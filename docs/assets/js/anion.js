"use strict";$(".description-text--more").hide(),$(".main__input-cell--H2O").hide(),$(".main__output-cell--H2O").hide(),$(".main__input-cell--F").hide(),$(".main__output-cell--F").hide(),$(".main__input-cell--Cl").hide(),$(".main__output-cell--Cl").hide(),$(window).width()<600&&$(".main__output-area").hide();var NA2O_MOL=61.979,K2O_MOL=94.196,AL2O3_MOL=101.961,MGO_MOL=40.304,FEO_MOL=71.846,FE2O3_MOL=159.692,CAO_MOL=56.077,MNO_MOL=70.938,TIO2_MOL=79.879,SIO2_MOL=60.084,H2O_MOL=18.015,F_MOL=18.994,CL_MOL=35.453,KEYCODES={ENTER:13,SPACE:32},Na2O=0,K2O=0,Al2O3=0,MgO=0,FeO=0,Fe2O3=0,CaO=0,MnO=0,TiO2=0,SiO2=0,H2O=0,F=0,Cl=0;$("#Na2O-input").on("input",function(){Na2O=this.value}),$("#K2O-input").on("input",function(){K2O=this.value}),$("#Al2O3-input").on("input",function(){Al2O3=this.value}),$("#MgO-input").on("input",function(){MgO=this.value}),$("#FeO-input").on("input",function(){FeO=this.value}),$("#Fe2O3-input").on("input",function(){Fe2O3=this.value}),$("#CaO-input").on("input",function(){CaO=this.value}),$("#MnO-input").on("input",function(){MnO=this.value}),$("#TiO2-input").on("input",function(){TiO2=this.value}),$("#SiO2-input").on("input",function(){SiO2=this.value}),$("#H2O-input").on("input",function(){H2O=this.value}),$("#F-input").on("input",function(){F=this.value}),$("#Cl-input").on("input",function(){Cl=this.value});var calculate=function(){function t(t,n){return t/n}function n(t){return t/function(t){return(f+h+M+C+L+g+v+w+x+A+H+N+S-(N+S)/2)/t}(mineralSelectValue)}function i(t){return 0===t?t:t.toFixed(2)<1e-4?0:isNaN(t)?0:t.toFixed(2)}var e=t(Na2O,NA2O_MOL),l=t(K2O,K2O_MOL),u=t(Al2O3,AL2O3_MOL),a=t(MgO,MGO_MOL),o=t(FeO,FEO_MOL),c=t(Fe2O3,FE2O3_MOL),O=t(CaO,CAO_MOL),p=t(MnO,MNO_MOL),s=t(TiO2,TIO2_MOL),_=t(SiO2,SIO2_MOL),d=t(H2O,H2O_MOL),r=t(F,F_MOL),m=t(Cl,CL_MOL),f=e,h=l,M=3*u,C=a,L=o,g=3*c,v=O,w=p,x=2*s,A=2*_,H=d,N=r,S=m,D=2*l,b=2*u,E=a,T=o,U=2*c,y=O,K=p,k=s,I=_,V=2*d,Y=r,G=m,P=n(2*e),R=n(D),j=n(b),q=n(E),z=n(T),B=n(U),J=n(y),Q=n(K),W=n(k),X=n(I),Z=n(V),tt=n(Y),nt=n(G);$("#Na2O-output").text(i(P)),$("#K2O-output").text(i(R)),$("#Al2O3-output").text(i(j)),$("#MgO-output").text(i(q)),$("#FeO-output").text(i(z)),$("#Fe2O3-output").text(i(B)),$("#CaO-output").text(i(J)),$("#MnO-output").text(i(Q)),$("#TiO2-output").text(i(W)),$("#SiO2-output").text(i(X)),$("#H2O-output").text(i(Z)),$("#F-output").text(i(tt)),$("#Cl-output").text(i(nt)),$(window).width()<600&&$(".main__output-area").slideDown("fast",function(){$("html, body").animate({scrollTop:$(document).height()},"fast")})},mineralSelectValue=$("#mineral-select")[0].value;$("#mineral-select").on("change",function(){mineralSelectValue=$("#mineral-select")[0].value,"hydrous"==$("#mineral-select option:selected")[0].className?($(".main__input-cell--H2O").slideDown("fast"),$(".main__output-cell--H2O").slideDown("fast"),$(".main__input-cell--F").slideUp("fast"),$(".main__output-cell--F").slideUp("fast"),$(".main__input-cell--Cl").slideUp("fast"),$(".main__output-cell--Cl").slideUp("fast")):"anhydrous"==$("#mineral-select option:selected")[0].className?($(".main__input-cell--H2O").slideUp("fast"),$(".main__output-cell--H2O").slideUp("fast"),$(".main__input-cell--F").slideUp("fast"),$(".main__output-cell--F").slideUp("fast"),$(".main__input-cell--Cl").slideUp("fast"),$(".main__output-cell--Cl").slideUp("fast")):"micas"==$("#mineral-select option:selected")[0].className?($(".main__input-cell--H2O").slideDown("fast"),$(".main__output-cell--H2O").slideDown("fast"),$(".main__input-cell--F").slideDown("fast"),$(".main__output-cell--F").slideDown("fast"),$(".main__input-cell--Cl").slideUp("fast"),$(".main__output-cell--Cl").slideUp("fast")):"hydrousAmphiboles"==$("#mineral-select option:selected")[0].className&&($(".main__input-cell--H2O").slideDown("fast"),$(".main__output-cell--H2O").slideDown("fast"),$(".main__input-cell--F").slideDown("fast"),$(".main__output-cell--F").slideDown("fast"),$(".main__input-cell--Cl").slideDown("fast"),$(".main__output-cell--Cl").slideDown("fast"))});var clear=function(){Cl=F=H2O=SiO2=TiO2=MnO=CaO=Fe2O3=FeO=MgO=Al2O3=K2O=Na2O=0,$(".main__input").val(""),$(".main__output").text(""),inputsArr.length=0,$(".button--calculate-anion").prop("disabled",!0),$(window).width()<600&&$(".main__output-area").slideUp("fast")};$(document).keydown(function(t){13==t.which&&2<=inputsArr.length&&$(".button--calculate-anion").addClass("button--calculate-anion-active")}),$(document).keyup(function(t){13==t.which&&2<=inputsArr.length&&($(".button--calculate-anion").removeClass("button--calculate-anion-active"),calculate())}),$(".button--calculate-anion").on("click",function(){calculate()}),$(".button--clear").on("click",function(){clear()});var descriptionToggle=function(){$(".description-text--more").fadeToggle("fast",function(){$(".description-text--more").is(":hidden")?$(".description-toggle").text("Show more."):$(".description-text--more").not(":hidden")&&$(".description-toggle").text("Show less.")})};$(".description-toggle").on("click",descriptionToggle),$(".description-toggle").on("keyup",function(t){t.keyCode!==KEYCODES.SPACE&&t.keyCode!==KEYCODES.ENTER||descriptionToggle()}),$(".button--calculate-anion").prop("disabled",!0);var inputsArr=[];$(".main").on("input",function(t){t.preventDefault(),(inputsArr=Array.prototype.filter.call($(".main__input"),function(t){return""!==t.value})).length<2?$(".button--calculate-anion").prop("disabled",!0):2<=inputsArr.length&&$(".button--calculate-anion").prop("disabled",!1)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFuaW9uLmpzIl0sIm5hbWVzIjpbIiQiLCJoaWRlIiwid2luZG93Iiwid2lkdGgiLCJBTDJPM19NT0wiLCJNR09fTU9MIiwiRkVPX01PTCIsIkZFMk8zX01PTCIsIkNBT19NT0wiLCJNTk9fTU9MIiwiVElPMl9NT0wiLCJTSU8yX01PTCIsIkgyT19NT0wiLCJGX01PTCIsIkNMX01PTCIsIktFWUNPREVTIiwiU1BBQ0UiLCJFTlRFUiIsIk1nTyIsIksyTyIsIkFsMk8zIiwiRmVPIiwiRmUyTzMiLCJDYU8iLCJNbk8iLCJUaU8yIiwiU2lPMiIsIkgyTyIsIkYiLCJDbCIsIm9uIiwiTmEyTyIsInRoaXMiLCJ2YWx1ZSIsImNhbGN1bGF0ZSIsImdldE1vbFJhdGlvIiwiZWxlbSIsIm1vbCIsImdldEFuaW9uUmF0aW9GYWN0b3IiLCJtaW5lcmFsIiwiSDJPX01vbFJhdGlvIiwiZGl2aXNvciIsIkZfY2F0aW9uUmF0aW8iLCJGX01vbFJhdGlvIiwiQWwyTzNfYW5pb25SYXRpbyIsIk1nT19hbmlvblJhdGlvIiwiRmVPX2FuaW9uUmF0aW8iLCJGZTJPM19hbmlvblJhdGlvIiwiQ2FPX2FuaW9uUmF0aW8iLCJNbk9fYW5pb25SYXRpbyIsIlRpTzJfYW5pb25SYXRpbyIsIlNpTzJfYW5pb25SYXRpbyIsIkgyT19hbmlvblJhdGlvIiwiRl9hbmlvblJhdGlvIiwiQ2xfYW5pb25SYXRpbyIsIk5hMk9fYW5pb25SYXRpbyIsIksyT19hbmlvblJhdGlvIiwiZ2V0QXBmdSIsIkgyT19hcGZ1IiwiSDJPX2NhdGlvblJhdGlvIiwiRl9hcGZ1IiwidG9GaXhlZCIsInNldFRvRml4ZWQiLCJpc05hTiIsIk5BMk9fTU9MIiwiQWwyTzNfTW9sUmF0aW8iLCJNZ09fTW9sUmF0aW8iLCJGZU9fTW9sUmF0aW8iLCJGZTJPM19Nb2xSYXRpbyIsIkNhT19Nb2xSYXRpbyIsIk5hMk9fTW9sUmF0aW8iLCJLMk9fTW9sUmF0aW8iLCJLMk9fTU9MIiwiVGlPMl9Nb2xSYXRpbyIsIlNpTzJfTW9sUmF0aW8iLCJDbF9Nb2xSYXRpbyIsIkZlT19jYXRpb25SYXRpbyIsIk5hMk9fY2F0aW9uUmF0aW8iLCJLMk9fY2F0aW9uUmF0aW8iLCJBbDJPM19jYXRpb25SYXRpbyIsIk1uT19Nb2xSYXRpbyIsIk1nT19jYXRpb25SYXRpbyIsIkZlMk8zX2NhdGlvblJhdGlvIiwiQ2FPX2NhdGlvblJhdGlvIiwiTW5PX2NhdGlvblJhdGlvIiwiTmEyT19hcGZ1IiwiSzJPX2FwZnUiLCJBbDJPM19hcGZ1IiwiTWdPX2FwZnUiLCJGZU9fYXBmdSIsIkZlMk8zX2FwZnUiLCJTaU8yX2NhdGlvblJhdGlvIiwiQ2FPX2FwZnUiLCJNbk9fYXBmdSIsIlRpTzJfYXBmdSIsInRleHQiLCJTaU8yX2FwZnUiLCJDbF9hcGZ1IiwiYW5pbWF0ZSIsInNjcm9sbFRvcCIsImRvY3VtZW50IiwiaGVpZ2h0IiwibWluZXJhbFNlbGVjdFZhbHVlIiwiY2xhc3NOYW1lIiwic2xpZGVEb3duIiwic2xpZGVVcCIsInZhbCIsImxlbmd0aCIsInByb3AiLCJrZXlkb3duIiwiZSIsImlucHV0c0FyciIsImtleXVwIiwid2hpY2giLCJyZW1vdmVDbGFzcyIsImNsZWFyIiwiZmFkZVRvZ2dsZSIsImlzIiwibm90IiwiZGVzY3JpcHRpb25Ub2dnbGUiLCJrZXlDb2RlIiwiQXJyYXkiLCJwcm90b3R5cGUiLCJmaWx0ZXIiLCJjYWxsIiwiaXRlbSJdLCJtYXBwaW5ncyI6IkFBQUEsYUFJQUEsRUFBRSwyQkFBMEJDLE9BQzVCRCxFQUFFLDBCQUFGQyxPQUNBRCxFQUFFLDJCQUF3QkMsT0FDMUJELEVBQUUsd0JBQUZDLE9BQ0FELEVBQUUseUJBQXlCQyxPQUMzQkQsRUFBRSx5QkFBRkMsT0FBQUQsRUFBRSwwQkFBMEJDLE9BTzVCRCxFQUFBRSxRQUFBQyxRQUFBLEtBSEVILEVBQUUsc0JBQXNCQyxPQU0xQixJQUFJRyxTQUFTLE9BQ1RDLFFBQVUsT0FDVkMsVUFBVSxRQUNWQyxRQUFTLE9BRFRELFFBQVUsT0FFVkUsVUFBVSxRQUNWQyxRQUFVLE9BQ1ZD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QUlBLElBQUFHLFVBQWNKLEdBQ1ozRyxFQUFBQSxTQUFFOEIsR0FBQSxRQUFBLFNBQUZnRixHQUVBOUcsRUFBQUEsa0JBQ0QrRyxVQUFBVSxNQUFBQyxVQUFBQyxPQUFBQyxLQUFBNUgsRUFBQSxnQkFBQSxTQUFBNkgsR0FJSCxNQUFBLEtBQUFBLEVBQUE1RixTQVJnQjBFLE9BQVMsRUFDckIzRyxFQUFFLDRCQUE0QjRHLEtBQUssWUFBWSxHQUNsQixHQUFwQkcsVUFBVUosUUFDbkIzRyxFQUFFLDRCQUE0QjRHLEtBQUssWUFBWSIsImZpbGUiOiJhbmlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuLy8gdmlzaWJpbGl0eSBzZXR0aW5nc1xuJCgnLmRlc2NyaXB0aW9uLXRleHQtLW1vcmUnKS5oaWRlKCk7XG4kKCcubWFpbl9faW5wdXQtY2VsbC0tSDJPJykuaGlkZSgpO1xuJCgnLm1haW5fX291dHB1dC1jZWxsLS1IMk8nKS5oaWRlKCk7XG4kKCcubWFpbl9faW5wdXQtY2VsbC0tRicpLmhpZGUoKTtcbiQoJy5tYWluX19vdXRwdXQtY2VsbC0tRicpLmhpZGUoKTtcbiQoJy5tYWluX19pbnB1dC1jZWxsLS1DbCcpLmhpZGUoKTtcbiQoJy5tYWluX19vdXRwdXQtY2VsbC0tQ2wnKS5oaWRlKCk7XG5cbi8vIG1lZGlhIHF1ZXJ5cyBvcHRpb25zXG5pZiAoJCh3aW5kb3cpLndpZHRoKCkgPCA2MDApIHtcbiAgJCgnLm1haW5fX291dHB1dC1hcmVhJykuaGlkZSgpO1xufVxuXG4vLyBDT05TVFNcbnZhciBOQTJPX01PTCA9IDYxLjk3OTtcbnZhciBLMk9fTU9MID0gOTQuMTk2O1xudmFyIEFMMk8zX01PTCA9IDEwMS45NjE7XG52YXIgTUdPX01PTCA9IDQwLjMwNDtcbnZhciBGRU9fTU9MID0gNzEuODQ2O1xudmFyIEZFMk8zX01PTCA9IDE1OS42OTI7IC8vIG5ld1xudmFyIENBT19NT0wgPSA1Ni4wNzc7XG52YXIgTU5PX01PTCA9IDcwLjkzODtcbnZhciBUSU8yX01PTCA9IDc5Ljg3OTtcbnZhciBTSU8yX01PTCA9IDYwLjA4NDtcbnZhciBIMk9fTU9MID0gMTguMDE1O1xudmFyIEZfTU9MID0gMTguOTk0O1xudmFyIENMX01PTCA9IDM1LjQ1MztcblxudmFyIEtFWUNPREVTID0ge1xuICBFTlRFUjogMTMsXG4gIFNQQUNFOiAzMixcbn07XG5cbi8vIHNldHRpbmcgZWxlbWVudCB2YWx1ZXNcbnZhciBOYTJPID0gMCwgSzJPID0gMCwgQWwyTzMgPSAwLCBNZ08gPSAwLCBGZU8gPSAwLCBGZTJPMyA9IDAsIENhTyA9IDAsIE1uTyA9IDAsIFRpTzIgPSAwLCBTaU8yID0gMCwgSDJPID0gMCwgRiA9IDAsIENsID0gMDtcblxuLy8gZ2V0dGluZyBpbnB1dHMgdmFsdWVzXG4kKCcjTmEyTy1pbnB1dCcpLm9uKCdpbnB1dCcsIGZ1bmN0aW9uKCkge1xuICBOYTJPID0gdGhpcy52YWx1ZTtcbn0pO1xuJCgnI0syTy1pbnB1dCcpLm9uKCdpbnB1dCcsIGZ1bmN0aW9uKCkge1xuICBLMk8gPSB0aGlzLnZhbHVlO1xufSk7XG4kKCcjQWwyTzMtaW5wdXQnKS5vbignaW5wdXQnLCBmdW5jdGlvbigpIHtcbiAgQWwyTzMgPSB0aGlzLnZhbHVlO1xufSk7XG4kKCcjTWdPLWlucHV0Jykub24oJ2lucHV0JywgZnVuY3Rpb24oKSB7XG4gIE1nTyA9IHRoaXMudmFsdWU7XG59KTtcbiQoJyNGZU8taW5wdXQnKS5vbignaW5wdXQnLCBmdW5jdGlvbigpIHtcbiAgRmVPID0gdGhpcy52YWx1ZTtcbn0pO1xuJCgnI0ZlMk8zLWlucHV0Jykub24oJ2lucHV0JywgZnVuY3Rpb24oKSB7XG4gIEZlMk8zID0gdGhpcy52YWx1ZTtcbn0pO1xuJCgnI0NhTy1pbnB1dCcpLm9uKCdpbnB1dCcsIGZ1bmN0aW9uKCkge1xuICBDYU8gPSB0aGlzLnZhbHVlO1xufSk7XG4kKCcjTW5PLWlucHV0Jykub24oJ2lucHV0JywgZnVuY3Rpb24oKSB7XG4gIE1uTyA9IHRoaXMudmFsdWU7XG59KTtcbiQoJyNUaU8yLWlucHV0Jykub24oJ2lucHV0JywgZnVuY3Rpb24oKSB7XG4gIFRpTzIgPSB0aGlzLnZhbHVlO1xufSk7XG4kKCcjU2lPMi1pbnB1dCcpLm9uKCdpbnB1dCcsIGZ1bmN0aW9uKCkge1xuICBTaU8yID0gdGhpcy52YWx1ZTtcbn0pO1xuJCgnI0gyTy1pbnB1dCcpLm9uKCdpbnB1dCcsIGZ1bmN0aW9uKCkge1xuICBIMk8gPSB0aGlzLnZhbHVlO1xufSk7XG4kKCcjRi1pbnB1dCcpLm9uKCdpbnB1dCcsIGZ1bmN0aW9uKCkge1xuICBGID0gdGhpcy52YWx1ZTtcbn0pO1xuJCgnI0NsLWlucHV0Jykub24oJ2lucHV0JywgZnVuY3Rpb24oKSB7XG4gIENsID0gdGhpcy52YWx1ZTtcbn0pO1xuXG4vL2NhbGN1bGF0ZSBmdW5jdGlvblxudmFyIGNhbGN1bGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGdldE1vbFJhdGlvID0gZnVuY3Rpb24gKGVsZW0sIG1vbCkge1xuICAgIHZhciBtb2xSYXRpbyA9IGVsZW0gLyBtb2w7XG4gICAgcmV0dXJuIG1vbFJhdGlvO1xuICB9O1xuXG4gIC8vIG1vbCByYXRpb3NcbiAgdmFyIE5hMk9fTW9sUmF0aW8gPSBnZXRNb2xSYXRpbyhOYTJPLCBOQTJPX01PTCk7XG4gIHZhciBLMk9fTW9sUmF0aW8gPSBnZXRNb2xSYXRpbyhLMk8sIEsyT19NT0wpO1xuICB2YXIgQWwyTzNfTW9sUmF0aW8gPSBnZXRNb2xSYXRpbyhBbDJPMywgQUwyTzNfTU9MKTtcbiAgdmFyIE1nT19Nb2xSYXRpbyA9IGdldE1vbFJhdGlvKE1nTywgTUdPX01PTCk7XG4gIHZhciBGZU9fTW9sUmF0aW8gPSBnZXRNb2xSYXRpbyhGZU8sIEZFT19NT0wpO1xuICB2YXIgRmUyTzNfTW9sUmF0aW8gPSBnZXRNb2xSYXRpbyhGZTJPMywgRkUyTzNfTU9MKTtcbiAgdmFyIENhT19Nb2xSYXRpbyA9IGdldE1vbFJhdGlvKENhTywgQ0FPX01PTCk7XG4gIHZhciBNbk9fTW9sUmF0aW8gPSBnZXRNb2xSYXRpbyhNbk8sIE1OT19NT0wpO1xuICB2YXIgVGlPMl9Nb2xSYXRpbyA9IGdldE1vbFJhdGlvKFRpTzIsIFRJTzJfTU9MKTtcbiAgdmFyIFNpTzJfTW9sUmF0aW8gPSBnZXRNb2xSYXRpbyhTaU8yLCBTSU8yX01PTCk7XG4gIHZhciBIMk9fTW9sUmF0aW8gPSBnZXRNb2xSYXRpbyhIMk8sIEgyT19NT0wpO1xuICB2YXIgRl9Nb2xSYXRpbyA9IGdldE1vbFJhdGlvKEYsIEZfTU9MKTtcbiAgdmFyIENsX01vbFJhdGlvID0gZ2V0TW9sUmF0aW8oQ2wsIENMX01PTCk7XG5cbiAgLy8gYW5pb24gcmF0aW9zXG4gIHZhciBOYTJPX2FuaW9uUmF0aW8gPSBOYTJPX01vbFJhdGlvO1xuICB2YXIgSzJPX2FuaW9uUmF0aW8gPSBLMk9fTW9sUmF0aW87XG4gIHZhciBBbDJPM19hbmlvblJhdGlvID0gQWwyTzNfTW9sUmF0aW8gKiAzO1xuICB2YXIgTWdPX2FuaW9uUmF0aW8gPSBNZ09fTW9sUmF0aW87XG4gIHZhciBGZU9fYW5pb25SYXRpbyA9IEZlT19Nb2xSYXRpbztcbiAgdmFyIEZlMk8zX2FuaW9uUmF0aW8gPSBGZTJPM19Nb2xSYXRpbyAqIDM7XG4gIHZhciBDYU9fYW5pb25SYXRpbyA9IENhT19Nb2xSYXRpbztcbiAgdmFyIE1uT19hbmlvblJhdGlvID0gTW5PX01vbFJhdGlvO1xuICB2YXIgVGlPMl9hbmlvblJhdGlvID0gVGlPMl9Nb2xSYXRpbyAqIDI7XG4gIHZhciBTaU8yX2FuaW9uUmF0aW8gPSBTaU8yX01vbFJhdGlvICogMjtcbiAgdmFyIEgyT19hbmlvblJhdGlvID0gSDJPX01vbFJhdGlvO1xuICB2YXIgRl9hbmlvblJhdGlvID0gRl9Nb2xSYXRpbztcbiAgdmFyIENsX2FuaW9uUmF0aW8gPSBDbF9Nb2xSYXRpbztcblxuICAvLyBjYXRpb24gcmF0aW9zXG4gIHZhciBOYTJPX2NhdGlvblJhdGlvID0gTmEyT19Nb2xSYXRpbyAqIDI7XG4gIHZhciBLMk9fY2F0aW9uUmF0aW8gPSBLMk9fTW9sUmF0aW8gKiAyO1xuICB2YXIgQWwyTzNfY2F0aW9uUmF0aW8gPSBBbDJPM19Nb2xSYXRpbyAqIDI7XG4gIHZhciBNZ09fY2F0aW9uUmF0aW8gPSBNZ09fTW9sUmF0aW87XG4gIHZhciBGZU9fY2F0aW9uUmF0aW8gPSBGZU9fTW9sUmF0aW87XG4gIHZhciBGZTJPM19jYXRpb25SYXRpbyA9IEZlMk8zX01vbFJhdGlvICogMjtcbiAgdmFyIENhT19jYXRpb25SYXRpbyA9IENhT19Nb2xSYXRpbztcbiAgdmFyIE1uT19jYXRpb25SYXRpbyA9IE1uT19Nb2xSYXRpbztcbiAgdmFyIFRpTzJfY2F0aW9uUmF0aW8gPSBUaU8yX01vbFJhdGlvO1xuICB2YXIgU2lPMl9jYXRpb25SYXRpbyA9IFNpTzJfTW9sUmF0aW87XG4gIHZhciBIMk9fY2F0aW9uUmF0aW8gPSBIMk9fTW9sUmF0aW8gKiAyO1xuICB2YXIgRl9jYXRpb25SYXRpbyA9IEZfTW9sUmF0aW87XG4gIHZhciBDbF9jYXRpb25SYXRpbyA9IENsX01vbFJhdGlvO1xuXG4gIC8vIHByb3N0byBhbmlvbiByYXRpbmdcbiAgdmFyIGdldEFuaW9uUmF0aW9GYWN0b3IgPSBmdW5jdGlvbiAoZGl2aXNvcikge1xuICAgIHJldHVybiAoTmEyT19hbmlvblJhdGlvICsgSzJPX2FuaW9uUmF0aW8gKyBBbDJPM19hbmlvblJhdGlvICsgTWdPX2FuaW9uUmF0aW8gKyBGZU9fYW5pb25SYXRpbyArIEZlMk8zX2FuaW9uUmF0aW8gKyBDYU9fYW5pb25SYXRpbyArIE1uT19hbmlvblJhdGlvICsgVGlPMl9hbmlvblJhdGlvICsgU2lPMl9hbmlvblJhdGlvICsgSDJPX2FuaW9uUmF0aW8gKyBGX2FuaW9uUmF0aW8gKyBDbF9hbmlvblJhdGlvIC0gKChGX2FuaW9uUmF0aW8gKyBDbF9hbmlvblJhdGlvKS8yKSkgLyBkaXZpc29yO1xuICB9XG5cbiAgdmFyIGdldEFwZnUgPSBmdW5jdGlvbiAobWluZXJhbCkge1xuICAgIHJldHVybiBtaW5lcmFsIC8gZ2V0QW5pb25SYXRpb0ZhY3RvcihtaW5lcmFsU2VsZWN0VmFsdWUpO1xuICB9XG5cbiAgLy8gYXBmdVxuICB2YXIgTmEyT19hcGZ1ID0gZ2V0QXBmdShOYTJPX2NhdGlvblJhdGlvKTtcbiAgdmFyIEsyT19hcGZ1ID0gZ2V0QXBmdShLMk9fY2F0aW9uUmF0aW8pO1xuICB2YXIgQWwyTzNfYXBmdSA9IGdldEFwZnUoQWwyTzNfY2F0aW9uUmF0aW8pO1xuICB2YXIgTWdPX2FwZnUgPSBnZXRBcGZ1KE1nT19jYXRpb25SYXRpbyk7XG4gIHZhciBGZU9fYXBmdSA9IGdldEFwZnUoRmVPX2NhdGlvblJhdGlvKTtcbiAgdmFyIEZlMk8zX2FwZnUgPSBnZXRBcGZ1KEZlMk8zX2NhdGlvblJhdGlvKTtcbiAgdmFyIENhT19hcGZ1ID0gZ2V0QXBmdShDYU9fY2F0aW9uUmF0aW8pO1xuICB2YXIgTW5PX2FwZnUgPSBnZXRBcGZ1KE1uT19jYXRpb25SYXRpbyk7XG4gIHZhciBUaU8yX2FwZnUgPSBnZXRBcGZ1KFRpTzJfY2F0aW9uUmF0aW8pO1xuICB2YXIgU2lPMl9hcGZ1ID0gZ2V0QXBmdShTaU8yX2NhdGlvblJhdGlvKTtcbiAgdmFyIEgyT19hcGZ1ID0gZ2V0QXBmdShIMk9fY2F0aW9uUmF0aW8pO1xuICB2YXIgRl9hcGZ1ID0gZ2V0QXBmdShGX2NhdGlvblJhdGlvKTtcbiAgdmFyIENsX2FwZnUgPSBnZXRBcGZ1KENsX2NhdGlvblJhdGlvKTtcblxuICB2YXIgc2V0VG9GaXhlZCA9IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgaWYgKGVsZW0gPT09IDApIHtcbiAgICAgIHJldHVybiBlbGVtO1xuICAgIH0gZWxzZSBpZiAoZWxlbS50b0ZpeGVkKDIpIDwgMC4wMDAxKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9IGVsc2UgaWYgKGlzTmFOKGVsZW0pKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGVsZW0udG9GaXhlZCgyKTtcbiAgICB9XG4gIH1cblxuICAvLyBzZXR0aW5nIG91dHB1dHMgdmFsdWVzXG4gICQoJyNOYTJPLW91dHB1dCcpLnRleHQoc2V0VG9GaXhlZChOYTJPX2FwZnUpKTtcbiAgJCgnI0syTy1vdXRwdXQnKS50ZXh0KHNldFRvRml4ZWQoSzJPX2FwZnUpKTtcbiAgJCgnI0FsMk8zLW91dHB1dCcpLnRleHQoc2V0VG9GaXhlZChBbDJPM19hcGZ1KSk7XG4gICQoJyNNZ08tb3V0cHV0JykudGV4dChzZXRUb0ZpeGVkKE1nT19hcGZ1KSk7XG4gICQoJyNGZU8tb3V0cHV0JykudGV4dChzZXRUb0ZpeGVkKEZlT19hcGZ1KSk7XG4gICQoJyNGZTJPMy1vdXRwdXQnKS50ZXh0KHNldFRvRml4ZWQoRmUyTzNfYXBmdSkpO1xuICAkKCcjQ2FPLW91dHB1dCcpLnRleHQoc2V0VG9GaXhlZChDYU9fYXBmdSkpO1xuICAkKCcjTW5PLW91dHB1dCcpLnRleHQoc2V0VG9GaXhlZChNbk9fYXBmdSkpO1xuICAkKCcjVGlPMi1vdXRwdXQnKS50ZXh0KHNldFRvRml4ZWQoVGlPMl9hcGZ1KSk7XG4gICQoJyNTaU8yLW91dHB1dCcpLnRleHQoc2V0VG9GaXhlZChTaU8yX2FwZnUpKTtcbiAgJCgnI0gyTy1vdXRwdXQnKS50ZXh0KHNldFRvRml4ZWQoSDJPX2FwZnUpKTtcbiAgJCgnI0Ytb3V0cHV0JykudGV4dChzZXRUb0ZpeGVkKEZfYXBmdSkpO1xuICAkKCcjQ2wtb3V0cHV0JykudGV4dChzZXRUb0ZpeGVkKENsX2FwZnUpKTtcblxuICAvL21lZGlhIHNldHRpbmdzXG4gIGlmICgkKHdpbmRvdykud2lkdGgoKSA8IDYwMCkge1xuICAgICQoJy5tYWluX19vdXRwdXQtYXJlYScpLnNsaWRlRG93bignZmFzdCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHsgc2Nyb2xsVG9wOiAkKGRvY3VtZW50KS5oZWlnaHQoKSB9LCAnZmFzdCcpO1xuICAgIH0pO1xuICB9XG5cbn07XG5cbi8vIGdldHRpbmcgPHNlbGVjdD4gdmFsdWVcbnZhciBtaW5lcmFsU2VsZWN0VmFsdWUgPSAkKCcjbWluZXJhbC1zZWxlY3QnKVswXS52YWx1ZTtcbiQoJyNtaW5lcmFsLXNlbGVjdCcpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcbiAgbWluZXJhbFNlbGVjdFZhbHVlID0gJCgnI21pbmVyYWwtc2VsZWN0JylbMF0udmFsdWU7XG4gIGlmICgkKCcjbWluZXJhbC1zZWxlY3Qgb3B0aW9uOnNlbGVjdGVkJylbMF0uY2xhc3NOYW1lID09ICdoeWRyb3VzJykge1xuICAgICQoJy5tYWluX19pbnB1dC1jZWxsLS1IMk8nKS5zbGlkZURvd24oJ2Zhc3QnKTtcbiAgICAkKCcubWFpbl9fb3V0cHV0LWNlbGwtLUgyTycpLnNsaWRlRG93bignZmFzdCcpO1xuICAgICQoJy5tYWluX19pbnB1dC1jZWxsLS1GJykuc2xpZGVVcCgnZmFzdCcpO1xuICAgICQoJy5tYWluX19vdXRwdXQtY2VsbC0tRicpLnNsaWRlVXAoJ2Zhc3QnKTtcbiAgICAkKCcubWFpbl9faW5wdXQtY2VsbC0tQ2wnKS5zbGlkZVVwKCdmYXN0Jyk7XG4gICAgJCgnLm1haW5fX291dHB1dC1jZWxsLS1DbCcpLnNsaWRlVXAoJ2Zhc3QnKTtcbiAgfSBlbHNlIGlmICgkKCcjbWluZXJhbC1zZWxlY3Qgb3B0aW9uOnNlbGVjdGVkJylbMF0uY2xhc3NOYW1lID09ICdhbmh5ZHJvdXMnKSB7XG4gICAgJCgnLm1haW5fX2lucHV0LWNlbGwtLUgyTycpLnNsaWRlVXAoJ2Zhc3QnKTtcbiAgICAkKCcubWFpbl9fb3V0cHV0LWNlbGwtLUgyTycpLnNsaWRlVXAoJ2Zhc3QnKTtcbiAgICAkKCcubWFpbl9faW5wdXQtY2VsbC0tRicpLnNsaWRlVXAoJ2Zhc3QnKTtcbiAgICAkKCcubWFpbl9fb3V0cHV0LWNlbGwtLUYnKS5zbGlkZVVwKCdmYXN0Jyk7XG4gICAgJCgnLm1haW5fX2lucHV0LWNlbGwtLUNsJykuc2xpZGVVcCgnZmFzdCcpO1xuICAgICQoJy5tYWluX19vdXRwdXQtY2VsbC0tQ2wnKS5zbGlkZVVwKCdmYXN0Jyk7XG4gIH0gZWxzZSBpZiAoJCgnI21pbmVyYWwtc2VsZWN0IG9wdGlvbjpzZWxlY3RlZCcpWzBdLmNsYXNzTmFtZSA9PSAnbWljYXMnKSB7XG4gICAgJCgnLm1haW5fX2lucHV0LWNlbGwtLUgyTycpLnNsaWRlRG93bignZmFzdCcpO1xuICAgICQoJy5tYWluX19vdXRwdXQtY2VsbC0tSDJPJykuc2xpZGVEb3duKCdmYXN0Jyk7XG4gICAgJCgnLm1haW5fX2lucHV0LWNlbGwtLUYnKS5zbGlkZURvd24oJ2Zhc3QnKTtcbiAgICAkKCcubWFpbl9fb3V0cHV0LWNlbGwtLUYnKS5zbGlkZURvd24oJ2Zhc3QnKTtcbiAgICAkKCcubWFpbl9faW5wdXQtY2VsbC0tQ2wnKS5zbGlkZVVwKCdmYXN0Jyk7XG4gICAgJCgnLm1haW5fX291dHB1dC1jZWxsLS1DbCcpLnNsaWRlVXAoJ2Zhc3QnKTtcbiAgfSBlbHNlIGlmICgkKCcjbWluZXJhbC1zZWxlY3Qgb3B0aW9uOnNlbGVjdGVkJylbMF0uY2xhc3NOYW1lID09ICdoeWRyb3VzQW1waGlib2xlcycpIHtcbiAgICAkKCcubWFpbl9faW5wdXQtY2VsbC0tSDJPJykuc2xpZGVEb3duKCdmYXN0Jyk7XG4gICAgJCgnLm1haW5fX291dHB1dC1jZWxsLS1IMk8nKS5zbGlkZURvd24oJ2Zhc3QnKTtcbiAgICAkKCcubWFpbl9faW5wdXQtY2VsbC0tRicpLnNsaWRlRG93bignZmFzdCcpO1xuICAgICQoJy5tYWluX19vdXRwdXQtY2VsbC0tRicpLnNsaWRlRG93bignZmFzdCcpO1xuICAgICQoJy5tYWluX19pbnB1dC1jZWxsLS1DbCcpLnNsaWRlRG93bignZmFzdCcpO1xuICAgICQoJy5tYWluX19vdXRwdXQtY2VsbC0tQ2wnKS5zbGlkZURvd24oJ2Zhc3QnKTtcbiAgfVxufSlcblxuLy9jbGVhciBmdW5jdGlvblxudmFyIGNsZWFyID0gZnVuY3Rpb24gKCkge1xuICBOYTJPID0gMDtcbiAgSzJPID0gMDtcbiAgQWwyTzMgPSAwO1xuICBNZ08gPSAwO1xuICBGZU8gPSAwO1xuICBGZTJPMyA9IDA7XG4gIENhTyA9IDA7XG4gIE1uTyA9IDA7XG4gIFRpTzIgPSAwO1xuICBTaU8yID0gMDtcbiAgSDJPID0gMDtcbiAgRiA9IDA7XG4gIENsID0gMDtcbiAgJCgnLm1haW5fX2lucHV0JykudmFsKCcnKTtcbiAgJCgnLm1haW5fX291dHB1dCcpLnRleHQoJycpO1xuICBpbnB1dHNBcnIubGVuZ3RoID0gMDtcblxuICAkKCcuYnV0dG9uLS1jYWxjdWxhdGUtYW5pb24nKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xuXG4gIC8vbWVkaWEgc2V0dGluZ3NcbiAgaWYgKCQod2luZG93KS53aWR0aCgpIDwgNjAwKSB7XG4gICAgJCgnLm1haW5fX291dHB1dC1hcmVhJykuc2xpZGVVcCgnZmFzdCcpO1xuICB9XG5cbn07XG5cbi8vIHNldHRpbmcgaW5wdXRzIGtleXByZXNzIGV2ZW50XG4kKGRvY3VtZW50KS5rZXlkb3duKGZ1bmN0aW9uKGUpIHtcbiAgaWYgKGUud2hpY2ggPT0gMTMgJiYgaW5wdXRzQXJyLmxlbmd0aCA+PSAyKSB7XG4gICAgJCgnLmJ1dHRvbi0tY2FsY3VsYXRlLWFuaW9uJykuYWRkQ2xhc3MoJ2J1dHRvbi0tY2FsY3VsYXRlLWFuaW9uLWFjdGl2ZScpO1xuICB9XG59KTtcblxuJChkb2N1bWVudCkua2V5dXAoZnVuY3Rpb24oZSkge1xuICBpZiAoZS53aGljaCA9PSAxMyAmJiBpbnB1dHNBcnIubGVuZ3RoID49IDIpIHtcbiAgICAkKCcuYnV0dG9uLS1jYWxjdWxhdGUtYW5pb24nKS5yZW1vdmVDbGFzcygnYnV0dG9uLS1jYWxjdWxhdGUtYW5pb24tYWN0aXZlJyk7XG4gICAgY2FsY3VsYXRlKCk7XG4gIH1cbn0pO1xuXG4vLyBzZXQgYnV0dG9ucyBldmVudHNcbiQoJy5idXR0b24tLWNhbGN1bGF0ZS1hbmlvbicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgY2FsY3VsYXRlKCk7XG59KTtcblxuJCgnLmJ1dHRvbi0tY2xlYXInKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gIGNsZWFyKCk7XG59KTtcblxuLy8gZGVzY3JpcHRpb24gdmlzaWJpbGl0eVxudmFyIGRlc2NyaXB0aW9uVG9nZ2xlID0gZnVuY3Rpb24gKCkge1xuICAkKCcuZGVzY3JpcHRpb24tdGV4dC0tbW9yZScpLmZhZGVUb2dnbGUoJ2Zhc3QnLCBmdW5jdGlvbigpIHtcbiAgICBpZiAoJCgnLmRlc2NyaXB0aW9uLXRleHQtLW1vcmUnKS5pcygnOmhpZGRlbicpKVxuICAgIHtcbiAgICAgICQoJy5kZXNjcmlwdGlvbi10b2dnbGUnKS50ZXh0KCdTaG93IG1vcmUuJyk7XG4gICAgfSBlbHNlIGlmICgkKCcuZGVzY3JpcHRpb24tdGV4dC0tbW9yZScpLm5vdCgnOmhpZGRlbicpKSB7XG4gICAgICAkKCcuZGVzY3JpcHRpb24tdG9nZ2xlJykudGV4dCgnU2hvdyBsZXNzLicpO1xuICAgIH1cbiAgfSk7XG59O1xuXG4kKCcuZGVzY3JpcHRpb24tdG9nZ2xlJykub24oJ2NsaWNrJywgZGVzY3JpcHRpb25Ub2dnbGUpO1xuXG4kKCcuZGVzY3JpcHRpb24tdG9nZ2xlJykub24oJ2tleXVwJywgZnVuY3Rpb24gKGUpIHtcbiAgaWYgKGUua2V5Q29kZSA9PT0gS0VZQ09ERVMuU1BBQ0UgfHwgZS5rZXlDb2RlID09PSBLRVlDT0RFUy5FTlRFUikge1xuICAgIGRlc2NyaXB0aW9uVG9nZ2xlKCk7XG4gIH1cbn0pO1xuXG4vLyBidXR0b24gZGlzYWJsZSBzZXR0aW5nc1xuJCgnLmJ1dHRvbi0tY2FsY3VsYXRlLWFuaW9uJykucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcblxudmFyIGlucHV0c0FyciA9IFtdO1xuJCgnLm1haW4nKS5vbignaW5wdXQnLCBmdW5jdGlvbiAoZSkge1xuXG4gIGUucHJldmVudERlZmF1bHQoKTtcbiAgaW5wdXRzQXJyID0gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKCQoJy5tYWluX19pbnB1dCcpLCBpdGVtID0+IHtcbiAgICByZXR1cm4gaXRlbS52YWx1ZSAhPT0gJyc7XG4gIH0pO1xuXG4gIGlmIChpbnB1dHNBcnIubGVuZ3RoIDwgMikge1xuICAgICQoJy5idXR0b24tLWNhbGN1bGF0ZS1hbmlvbicpLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gIH0gZWxzZSBpZiAoaW5wdXRzQXJyLmxlbmd0aCA+PSAyKSB7XG4gICAgJCgnLmJ1dHRvbi0tY2FsY3VsYXRlLWFuaW9uJykucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XG4gIH1cblxufSk7XG5cbi8vIHRoYXRzIGFsbCwgZmFsa3NcbiJdfQ==
