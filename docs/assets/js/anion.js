"use strict";$(".description-text--more").hide(),$(".main__input-cell--H2O").hide(),$(".main__output-cell--H2O").hide(),$(".main__input-cell--F").hide(),$(".main__output-cell--F").hide(),$(".main__input-cell--Cl").hide(),$(".main__output-cell--Cl").hide(),$(window).width()<600&&$(".main__output-area").hide();var NA2O_MOL=61.979,K2O_MOL=94.196,AL2O3_MOL=101.961,MGO_MOL=40.304,FEO_MOL=71.846,FE2O3_MOL=159.692,CAO_MOL=56.077,MNO_MOL=70.938,TIO2_MOL=79.879,SIO2_MOL=60.084,H2O_MOL=18.015,F_MOL=18.994,CL_MOL=35.453,KEYCODES={ENTER:13,SPACE:32},Na2O=0,K2O=0,Al2O3=0,MgO=0,FeO=0,Fe2O3=0,CaO=0,MnO=0,TiO2=0,SiO2=0,H2O=0,F=0,Cl=0;$("#Na2O-input").on("input",(function(){Na2O=this.value})),$("#K2O-input").on("input",(function(){K2O=this.value})),$("#Al2O3-input").on("input",(function(){Al2O3=this.value})),$("#MgO-input").on("input",(function(){MgO=this.value})),$("#FeO-input").on("input",(function(){FeO=this.value})),$("#Fe2O3-input").on("input",(function(){Fe2O3=this.value})),$("#CaO-input").on("input",(function(){CaO=this.value})),$("#MnO-input").on("input",(function(){MnO=this.value})),$("#TiO2-input").on("input",(function(){TiO2=this.value})),$("#SiO2-input").on("input",(function(){SiO2=this.value})),$("#H2O-input").on("input",(function(){H2O=this.value})),$("#F-input").on("input",(function(){F=this.value})),$("#Cl-input").on("input",(function(){Cl=this.value}));var calculate=function(){var t=function(t,n){return t/n},n=t(Na2O,NA2O_MOL),i=t(K2O,K2O_MOL),e=t(Al2O3,AL2O3_MOL),l=t(MgO,MGO_MOL),u=t(FeO,FEO_MOL),a=t(Fe2O3,FE2O3_MOL),o=t(CaO,CAO_MOL),c=t(MnO,MNO_MOL),O=t(TiO2,TIO2_MOL),p=t(SiO2,SIO2_MOL),s=t(H2O,H2O_MOL),_=t(F,F_MOL),d=t(Cl,CL_MOL),r=n,m=i,f=3*e,h=l,M=u,C=3*a,L=o,g=c,v=2*O,w=2*p,x=s,A=_,H=d,N=2*i,S=2*e,D=l,b=u,E=2*a,T=o,U=c,y=O,K=p,k=2*s,I=_,V=d,Y=function(t){return t/((r+m+f+h+M+C+L+g+v+w+x+A+H-(A+H)/2)/mineralSelectValue)},G=Y(2*n),P=Y(N),R=Y(S),j=Y(D),q=Y(b),z=Y(E),B=Y(T),J=Y(U),Q=Y(y),W=Y(K),X=Y(k),Z=Y(I),tt=Y(V),nt=function(t){return 0===t?t:t.toFixed(2)<1e-4?0:isNaN(t)?0:t.toFixed(2)};$("#Na2O-output").text(nt(G)),$("#K2O-output").text(nt(P)),$("#Al2O3-output").text(nt(R)),$("#MgO-output").text(nt(j)),$("#FeO-output").text(nt(q)),$("#Fe2O3-output").text(nt(z)),$("#CaO-output").text(nt(B)),$("#MnO-output").text(nt(J)),$("#TiO2-output").text(nt(Q)),$("#SiO2-output").text(nt(W)),$("#H2O-output").text(nt(X)),$("#F-output").text(nt(Z)),$("#Cl-output").text(nt(tt)),$(window).width()<600&&$(".main__output-area").slideDown("fast",(function(){$("html, body").animate({scrollTop:$(document).height()},"fast")}))},mineralSelectValue=$("#mineral-select")[0].value;$("#mineral-select").on("change",(function(){mineralSelectValue=$("#mineral-select")[0].value,"hydrous"==$("#mineral-select option:selected")[0].className?($(".main__input-cell--H2O").slideDown("fast"),$(".main__output-cell--H2O").slideDown("fast"),$(".main__input-cell--F").slideUp("fast"),$(".main__output-cell--F").slideUp("fast"),$(".main__input-cell--Cl").slideUp("fast"),$(".main__output-cell--Cl").slideUp("fast")):"anhydrous"==$("#mineral-select option:selected")[0].className?($(".main__input-cell--H2O").slideUp("fast"),$(".main__output-cell--H2O").slideUp("fast"),$(".main__input-cell--F").slideUp("fast"),$(".main__output-cell--F").slideUp("fast"),$(".main__input-cell--Cl").slideUp("fast"),$(".main__output-cell--Cl").slideUp("fast")):"micas"==$("#mineral-select option:selected")[0].className?($(".main__input-cell--H2O").slideDown("fast"),$(".main__output-cell--H2O").slideDown("fast"),$(".main__input-cell--F").slideDown("fast"),$(".main__output-cell--F").slideDown("fast"),$(".main__input-cell--Cl").slideUp("fast"),$(".main__output-cell--Cl").slideUp("fast")):"hydrousAmphiboles"==$("#mineral-select option:selected")[0].className&&($(".main__input-cell--H2O").slideDown("fast"),$(".main__output-cell--H2O").slideDown("fast"),$(".main__input-cell--F").slideDown("fast"),$(".main__output-cell--F").slideDown("fast"),$(".main__input-cell--Cl").slideDown("fast"),$(".main__output-cell--Cl").slideDown("fast"))}));var clear=function(){Na2O=0,K2O=0,Al2O3=0,MgO=0,FeO=0,Fe2O3=0,CaO=0,MnO=0,TiO2=0,SiO2=0,H2O=0,F=0,Cl=0,$(".main__input").val(""),$(".main__output").text(""),inputsArr.length=0,$(".button--calculate-anion").prop("disabled",!0),$(window).width()<600&&$(".main__output-area").slideUp("fast")};$(document).keydown((function(t){13==t.which&&inputsArr.length>=2&&$(".button--calculate-anion").addClass("button--calculate-anion-active")})),$(document).keyup((function(t){13==t.which&&inputsArr.length>=2&&($(".button--calculate-anion").removeClass("button--calculate-anion-active"),calculate())})),$(".button--calculate-anion").on("click",(function(){calculate()})),$(".button--clear").on("click",(function(){clear()}));var descriptionToggle=function(){$(".description-text--more").fadeToggle("fast",(function(){$(".description-text--more").is(":hidden")?$(".description-toggle").text("Show more."):$(".description-text--more").not(":hidden")&&$(".description-toggle").text("Show less.")}))};$(".description-toggle").on("click",descriptionToggle),$(".description-toggle").on("keyup",(function(t){t.keyCode!==KEYCODES.SPACE&&t.keyCode!==KEYCODES.ENTER||descriptionToggle()})),$(".button--calculate-anion").prop("disabled",!0);var inputsArr=[];$(".main").on("input",(function(t){t.preventDefault(),(inputsArr=Array.prototype.filter.call($(".main__input"),t=>""!==t.value)).length<2?$(".button--calculate-anion").prop("disabled",!0):inputsArr.length>=2&&$(".button--calculate-anion").prop("disabled",!1)}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFuaW9uLmpzIl0sIm5hbWVzIjpbIiQiLCJoaWRlIiwid2luZG93Iiwid2lkdGgiLCJOQTJPX01PTCIsIksyT19NT0wiLCJBTDJPM19NT0wiLCJNR09fTU9MIiwiRkVPX01PTCIsIkZFMk8zX01PTCIsIkNBT19NT0wiLCJNTk9fTU9MIiwiVElPMl9NT0wiLCJTSU8yX01PTCIsIkgyT19NT0wiLCJGX01PTCIsIkNMX01PTCIsIktFWUNPREVTIiwiRU5URVIiLCJTUEFDRSIsIk5hMk8iLCJLMk8iLCJBbDJPMyIsIk1nTyIsIkZlTyIsIkZlMk8zIiwiQ2FPIiwiTW5PIiwiVGlPMiIsIlNpTzIiLCJIMk8iLCJGIiwiQ2wiLCJvbiIsInRoaXMiLCJ2YWx1ZSIsImNhbGN1bGF0ZSIsImdldE1vbFJhdGlvIiwiZWxlbSIsIm1vbCIsIk5hMk9fTW9sUmF0aW8iLCJLMk9fTW9sUmF0aW8iLCJBbDJPM19Nb2xSYXRpbyIsIk1nT19Nb2xSYXRpbyIsIkZlT19Nb2xSYXRpbyIsIkZlMk8zX01vbFJhdGlvIiwiQ2FPX01vbFJhdGlvIiwiTW5PX01vbFJhdGlvIiwiVGlPMl9Nb2xSYXRpbyIsIlNpTzJfTW9sUmF0aW8iLCJIMk9fTW9sUmF0aW8iLCJGX01vbFJhdGlvIiwiQ2xfTW9sUmF0aW8iLCJOYTJPX2FuaW9uUmF0aW8iLCJLMk9fYW5pb25SYXRpbyIsIkFsMk8zX2FuaW9uUmF0aW8iLCJNZ09fYW5pb25SYXRpbyIsIkZlT19hbmlvblJhdGlvIiwiRmUyTzNfYW5pb25SYXRpbyIsIkNhT19hbmlvblJhdGlvIiwiTW5PX2FuaW9uUmF0aW8iLCJUaU8yX2FuaW9uUmF0aW8iLCJTaU8yX2FuaW9uUmF0aW8iLCJIMk9fYW5pb25SYXRpbyIsIkZfYW5pb25SYXRpbyIsIkNsX2FuaW9uUmF0aW8iLCJLMk9fY2F0aW9uUmF0aW8iLCJBbDJPM19jYXRpb25SYXRpbyIsIk1nT19jYXRpb25SYXRpbyIsIkZlT19jYXRpb25SYXRpbyIsIkZlMk8zX2NhdGlvblJhdGlvIiwiQ2FPX2NhdGlvblJhdGlvIiwiTW5PX2NhdGlvblJhdGlvIiwiVGlPMl9jYXRpb25SYXRpbyIsIlNpTzJfY2F0aW9uUmF0aW8iLCJIMk9fY2F0aW9uUmF0aW8iLCJGX2NhdGlvblJhdGlvIiwiQ2xfY2F0aW9uUmF0aW8iLCJnZXRBcGZ1IiwibWluZXJhbCIsIm1pbmVyYWxTZWxlY3RWYWx1ZSIsIk5hMk9fYXBmdSIsIksyT19hcGZ1IiwiQWwyTzNfYXBmdSIsIk1nT19hcGZ1IiwiRmVPX2FwZnUiLCJGZTJPM19hcGZ1IiwiQ2FPX2FwZnUiLCJNbk9fYXBmdSIsIlRpTzJfYXBmdSIsIlNpTzJfYXBmdSIsIkgyT19hcGZ1IiwiRl9hcGZ1IiwiQ2xfYXBmdSIsInNldFRvRml4ZWQiLCJ0b0ZpeGVkIiwiaXNOYU4iLCJ0ZXh0Iiwic2xpZGVEb3duIiwiYW5pbWF0ZSIsInNjcm9sbFRvcCIsImRvY3VtZW50IiwiaGVpZ2h0IiwiY2xhc3NOYW1lIiwic2xpZGVVcCIsImNsZWFyIiwidmFsIiwiaW5wdXRzQXJyIiwibGVuZ3RoIiwicHJvcCIsImtleWRvd24iLCJlIiwid2hpY2giLCJhZGRDbGFzcyIsImtleXVwIiwicmVtb3ZlQ2xhc3MiLCJkZXNjcmlwdGlvblRvZ2dsZSIsImZhZGVUb2dnbGUiLCJpcyIsIm5vdCIsImtleUNvZGUiLCJwcmV2ZW50RGVmYXVsdCIsIkFycmF5IiwicHJvdG90eXBlIiwiZmlsdGVyIiwiY2FsbCIsIml0ZW0iXSwibWFwcGluZ3MiOiJBQUFBLGFBR0FBLEVBQUUsMkJBQTJCQyxPQUM3QkQsRUFBRSwwQkFBMEJDLE9BQzVCRCxFQUFFLDJCQUEyQkMsT0FDN0JELEVBQUUsd0JBQXdCQyxPQUMxQkQsRUFBRSx5QkFBeUJDLE9BQzNCRCxFQUFFLHlCQUF5QkMsT0FDM0JELEVBQUUsMEJBQTBCQyxPQUd4QkQsRUFBRUUsUUFBUUMsUUFBVSxLQUN0QkgsRUFBRSxzQkFBc0JDLE9BSTFCLElBQUlHLFNBQVcsT0FDWEMsUUFBVSxPQUNWQyxVQUFZLFFBQ1pDLFFBQVUsT0FDVkMsUUFBVSxPQUNWQyxV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QUVTLFVBQVl2RyxTQUFTRSxPQUFTNEYsRUFBRVMsVUFBWXZHLFNBQVNDLE9BQ3pEa0csdUJBS0pwSCxFQUFFLDRCQUE0QjZHLEtBQUssWUFBWSxHQUUvQyxJQUFJRixVQUFZLEdBQ2hCM0csRUFBRSxTQUFTaUMsR0FBRyxTQUFTLFNBQVU4RSxHQUUvQkEsRUFBRVUsa0JBQ0ZkLFVBQVllLE1BQU1DLFVBQVVDLE9BQU9DLEtBQUs3SCxFQUFFLGdCQUFpQjhILEdBQ25DLEtBQWZBLEVBQUszRixRQUdBeUUsT0FBUyxFQUNyQjVHLEVBQUUsNEJBQTRCNkcsS0FBSyxZQUFZLEdBQ3RDRixVQUFVQyxRQUFVLEdBQzdCNUcsRUFBRSw0QkFBNEI2RyxLQUFLLFlBQVkiLCJmaWxlIjoiYW5pb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbi8vIHZpc2liaWxpdHkgc2V0dGluZ3NcbiQoJy5kZXNjcmlwdGlvbi10ZXh0LS1tb3JlJykuaGlkZSgpO1xuJCgnLm1haW5fX2lucHV0LWNlbGwtLUgyTycpLmhpZGUoKTtcbiQoJy5tYWluX19vdXRwdXQtY2VsbC0tSDJPJykuaGlkZSgpO1xuJCgnLm1haW5fX2lucHV0LWNlbGwtLUYnKS5oaWRlKCk7XG4kKCcubWFpbl9fb3V0cHV0LWNlbGwtLUYnKS5oaWRlKCk7XG4kKCcubWFpbl9faW5wdXQtY2VsbC0tQ2wnKS5oaWRlKCk7XG4kKCcubWFpbl9fb3V0cHV0LWNlbGwtLUNsJykuaGlkZSgpO1xuXG4vLyBtZWRpYSBxdWVyeXMgb3B0aW9uc1xuaWYgKCQod2luZG93KS53aWR0aCgpIDwgNjAwKSB7XG4gICQoJy5tYWluX19vdXRwdXQtYXJlYScpLmhpZGUoKTtcbn1cblxuLy8gQ09OU1RTXG52YXIgTkEyT19NT0wgPSA2MS45Nzk7XG52YXIgSzJPX01PTCA9IDk0LjE5NjtcbnZhciBBTDJPM19NT0wgPSAxMDEuOTYxO1xudmFyIE1HT19NT0wgPSA0MC4zMDQ7XG52YXIgRkVPX01PTCA9IDcxLjg0NjtcbnZhciBGRTJPM19NT0wgPSAxNTkuNjkyOyAvLyBuZXdcbnZhciBDQU9fTU9MID0gNTYuMDc3O1xudmFyIE1OT19NT0wgPSA3MC45Mzg7XG52YXIgVElPMl9NT0wgPSA3OS44Nzk7XG52YXIgU0lPMl9NT0wgPSA2MC4wODQ7XG52YXIgSDJPX01PTCA9IDE4LjAxNTtcbnZhciBGX01PTCA9IDE4Ljk5NDtcbnZhciBDTF9NT0wgPSAzNS40NTM7XG5cbnZhciBLRVlDT0RFUyA9IHtcbiAgRU5URVI6IDEzLFxuICBTUEFDRTogMzIsXG59O1xuXG4vLyBzZXR0aW5nIGVsZW1lbnQgdmFsdWVzXG52YXIgTmEyTyA9IDAsIEsyTyA9IDAsIEFsMk8zID0gMCwgTWdPID0gMCwgRmVPID0gMCwgRmUyTzMgPSAwLCBDYU8gPSAwLCBNbk8gPSAwLCBUaU8yID0gMCwgU2lPMiA9IDAsIEgyTyA9IDAsIEYgPSAwLCBDbCA9IDA7XG5cbi8vIGdldHRpbmcgaW5wdXRzIHZhbHVlc1xuJCgnI05hMk8taW5wdXQnKS5vbignaW5wdXQnLCBmdW5jdGlvbigpIHtcbiAgTmEyTyA9IHRoaXMudmFsdWU7XG59KTtcbiQoJyNLMk8taW5wdXQnKS5vbignaW5wdXQnLCBmdW5jdGlvbigpIHtcbiAgSzJPID0gdGhpcy52YWx1ZTtcbn0pO1xuJCgnI0FsMk8zLWlucHV0Jykub24oJ2lucHV0JywgZnVuY3Rpb24oKSB7XG4gIEFsMk8zID0gdGhpcy52YWx1ZTtcbn0pO1xuJCgnI01nTy1pbnB1dCcpLm9uKCdpbnB1dCcsIGZ1bmN0aW9uKCkge1xuICBNZ08gPSB0aGlzLnZhbHVlO1xufSk7XG4kKCcjRmVPLWlucHV0Jykub24oJ2lucHV0JywgZnVuY3Rpb24oKSB7XG4gIEZlTyA9IHRoaXMudmFsdWU7XG59KTtcbiQoJyNGZTJPMy1pbnB1dCcpLm9uKCdpbnB1dCcsIGZ1bmN0aW9uKCkge1xuICBGZTJPMyA9IHRoaXMudmFsdWU7XG59KTtcbiQoJyNDYU8taW5wdXQnKS5vbignaW5wdXQnLCBmdW5jdGlvbigpIHtcbiAgQ2FPID0gdGhpcy52YWx1ZTtcbn0pO1xuJCgnI01uTy1pbnB1dCcpLm9uKCdpbnB1dCcsIGZ1bmN0aW9uKCkge1xuICBNbk8gPSB0aGlzLnZhbHVlO1xufSk7XG4kKCcjVGlPMi1pbnB1dCcpLm9uKCdpbnB1dCcsIGZ1bmN0aW9uKCkge1xuICBUaU8yID0gdGhpcy52YWx1ZTtcbn0pO1xuJCgnI1NpTzItaW5wdXQnKS5vbignaW5wdXQnLCBmdW5jdGlvbigpIHtcbiAgU2lPMiA9IHRoaXMudmFsdWU7XG59KTtcbiQoJyNIMk8taW5wdXQnKS5vbignaW5wdXQnLCBmdW5jdGlvbigpIHtcbiAgSDJPID0gdGhpcy52YWx1ZTtcbn0pO1xuJCgnI0YtaW5wdXQnKS5vbignaW5wdXQnLCBmdW5jdGlvbigpIHtcbiAgRiA9IHRoaXMudmFsdWU7XG59KTtcbiQoJyNDbC1pbnB1dCcpLm9uKCdpbnB1dCcsIGZ1bmN0aW9uKCkge1xuICBDbCA9IHRoaXMudmFsdWU7XG59KTtcblxuLy9jYWxjdWxhdGUgZnVuY3Rpb25cbnZhciBjYWxjdWxhdGUgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBnZXRNb2xSYXRpbyA9IGZ1bmN0aW9uIChlbGVtLCBtb2wpIHtcbiAgICB2YXIgbW9sUmF0aW8gPSBlbGVtIC8gbW9sO1xuICAgIHJldHVybiBtb2xSYXRpbztcbiAgfTtcblxuICAvLyBtb2wgcmF0aW9zXG4gIHZhciBOYTJPX01vbFJhdGlvID0gZ2V0TW9sUmF0aW8oTmEyTywgTkEyT19NT0wpO1xuICB2YXIgSzJPX01vbFJhdGlvID0gZ2V0TW9sUmF0aW8oSzJPLCBLMk9fTU9MKTtcbiAgdmFyIEFsMk8zX01vbFJhdGlvID0gZ2V0TW9sUmF0aW8oQWwyTzMsIEFMMk8zX01PTCk7XG4gIHZhciBNZ09fTW9sUmF0aW8gPSBnZXRNb2xSYXRpbyhNZ08sIE1HT19NT0wpO1xuICB2YXIgRmVPX01vbFJhdGlvID0gZ2V0TW9sUmF0aW8oRmVPLCBGRU9fTU9MKTtcbiAgdmFyIEZlMk8zX01vbFJhdGlvID0gZ2V0TW9sUmF0aW8oRmUyTzMsIEZFMk8zX01PTCk7XG4gIHZhciBDYU9fTW9sUmF0aW8gPSBnZXRNb2xSYXRpbyhDYU8sIENBT19NT0wpO1xuICB2YXIgTW5PX01vbFJhdGlvID0gZ2V0TW9sUmF0aW8oTW5PLCBNTk9fTU9MKTtcbiAgdmFyIFRpTzJfTW9sUmF0aW8gPSBnZXRNb2xSYXRpbyhUaU8yLCBUSU8yX01PTCk7XG4gIHZhciBTaU8yX01vbFJhdGlvID0gZ2V0TW9sUmF0aW8oU2lPMiwgU0lPMl9NT0wpO1xuICB2YXIgSDJPX01vbFJhdGlvID0gZ2V0TW9sUmF0aW8oSDJPLCBIMk9fTU9MKTtcbiAgdmFyIEZfTW9sUmF0aW8gPSBnZXRNb2xSYXRpbyhGLCBGX01PTCk7XG4gIHZhciBDbF9Nb2xSYXRpbyA9IGdldE1vbFJhdGlvKENsLCBDTF9NT0wpO1xuXG4gIC8vIGFuaW9uIHJhdGlvc1xuICB2YXIgTmEyT19hbmlvblJhdGlvID0gTmEyT19Nb2xSYXRpbztcbiAgdmFyIEsyT19hbmlvblJhdGlvID0gSzJPX01vbFJhdGlvO1xuICB2YXIgQWwyTzNfYW5pb25SYXRpbyA9IEFsMk8zX01vbFJhdGlvICogMztcbiAgdmFyIE1nT19hbmlvblJhdGlvID0gTWdPX01vbFJhdGlvO1xuICB2YXIgRmVPX2FuaW9uUmF0aW8gPSBGZU9fTW9sUmF0aW87XG4gIHZhciBGZTJPM19hbmlvblJhdGlvID0gRmUyTzNfTW9sUmF0aW8gKiAzO1xuICB2YXIgQ2FPX2FuaW9uUmF0aW8gPSBDYU9fTW9sUmF0aW87XG4gIHZhciBNbk9fYW5pb25SYXRpbyA9IE1uT19Nb2xSYXRpbztcbiAgdmFyIFRpTzJfYW5pb25SYXRpbyA9IFRpTzJfTW9sUmF0aW8gKiAyO1xuICB2YXIgU2lPMl9hbmlvblJhdGlvID0gU2lPMl9Nb2xSYXRpbyAqIDI7XG4gIHZhciBIMk9fYW5pb25SYXRpbyA9IEgyT19Nb2xSYXRpbztcbiAgdmFyIEZfYW5pb25SYXRpbyA9IEZfTW9sUmF0aW87XG4gIHZhciBDbF9hbmlvblJhdGlvID0gQ2xfTW9sUmF0aW87XG5cbiAgLy8gY2F0aW9uIHJhdGlvc1xuICB2YXIgTmEyT19jYXRpb25SYXRpbyA9IE5hMk9fTW9sUmF0aW8gKiAyO1xuICB2YXIgSzJPX2NhdGlvblJhdGlvID0gSzJPX01vbFJhdGlvICogMjtcbiAgdmFyIEFsMk8zX2NhdGlvblJhdGlvID0gQWwyTzNfTW9sUmF0aW8gKiAyO1xuICB2YXIgTWdPX2NhdGlvblJhdGlvID0gTWdPX01vbFJhdGlvO1xuICB2YXIgRmVPX2NhdGlvblJhdGlvID0gRmVPX01vbFJhdGlvO1xuICB2YXIgRmUyTzNfY2F0aW9uUmF0aW8gPSBGZTJPM19Nb2xSYXRpbyAqIDI7XG4gIHZhciBDYU9fY2F0aW9uUmF0aW8gPSBDYU9fTW9sUmF0aW87XG4gIHZhciBNbk9fY2F0aW9uUmF0aW8gPSBNbk9fTW9sUmF0aW87XG4gIHZhciBUaU8yX2NhdGlvblJhdGlvID0gVGlPMl9Nb2xSYXRpbztcbiAgdmFyIFNpTzJfY2F0aW9uUmF0aW8gPSBTaU8yX01vbFJhdGlvO1xuICB2YXIgSDJPX2NhdGlvblJhdGlvID0gSDJPX01vbFJhdGlvICogMjtcbiAgdmFyIEZfY2F0aW9uUmF0aW8gPSBGX01vbFJhdGlvO1xuICB2YXIgQ2xfY2F0aW9uUmF0aW8gPSBDbF9Nb2xSYXRpbztcblxuICAvLyBwcm9zdG8gYW5pb24gcmF0aW5nXG4gIHZhciBnZXRBbmlvblJhdGlvRmFjdG9yID0gZnVuY3Rpb24gKGRpdmlzb3IpIHtcbiAgICByZXR1cm4gKE5hMk9fYW5pb25SYXRpbyArIEsyT19hbmlvblJhdGlvICsgQWwyTzNfYW5pb25SYXRpbyArIE1nT19hbmlvblJhdGlvICsgRmVPX2FuaW9uUmF0aW8gKyBGZTJPM19hbmlvblJhdGlvICsgQ2FPX2FuaW9uUmF0aW8gKyBNbk9fYW5pb25SYXRpbyArIFRpTzJfYW5pb25SYXRpbyArIFNpTzJfYW5pb25SYXRpbyArIEgyT19hbmlvblJhdGlvICsgRl9hbmlvblJhdGlvICsgQ2xfYW5pb25SYXRpbyAtICgoRl9hbmlvblJhdGlvICsgQ2xfYW5pb25SYXRpbykvMikpIC8gZGl2aXNvcjtcbiAgfVxuXG4gIHZhciBnZXRBcGZ1ID0gZnVuY3Rpb24gKG1pbmVyYWwpIHtcbiAgICByZXR1cm4gbWluZXJhbCAvIGdldEFuaW9uUmF0aW9GYWN0b3IobWluZXJhbFNlbGVjdFZhbHVlKTtcbiAgfVxuXG4gIC8vIGFwZnVcbiAgdmFyIE5hMk9fYXBmdSA9IGdldEFwZnUoTmEyT19jYXRpb25SYXRpbyk7XG4gIHZhciBLMk9fYXBmdSA9IGdldEFwZnUoSzJPX2NhdGlvblJhdGlvKTtcbiAgdmFyIEFsMk8zX2FwZnUgPSBnZXRBcGZ1KEFsMk8zX2NhdGlvblJhdGlvKTtcbiAgdmFyIE1nT19hcGZ1ID0gZ2V0QXBmdShNZ09fY2F0aW9uUmF0aW8pO1xuICB2YXIgRmVPX2FwZnUgPSBnZXRBcGZ1KEZlT19jYXRpb25SYXRpbyk7XG4gIHZhciBGZTJPM19hcGZ1ID0gZ2V0QXBmdShGZTJPM19jYXRpb25SYXRpbyk7XG4gIHZhciBDYU9fYXBmdSA9IGdldEFwZnUoQ2FPX2NhdGlvblJhdGlvKTtcbiAgdmFyIE1uT19hcGZ1ID0gZ2V0QXBmdShNbk9fY2F0aW9uUmF0aW8pO1xuICB2YXIgVGlPMl9hcGZ1ID0gZ2V0QXBmdShUaU8yX2NhdGlvblJhdGlvKTtcbiAgdmFyIFNpTzJfYXBmdSA9IGdldEFwZnUoU2lPMl9jYXRpb25SYXRpbyk7XG4gIHZhciBIMk9fYXBmdSA9IGdldEFwZnUoSDJPX2NhdGlvblJhdGlvKTtcbiAgdmFyIEZfYXBmdSA9IGdldEFwZnUoRl9jYXRpb25SYXRpbyk7XG4gIHZhciBDbF9hcGZ1ID0gZ2V0QXBmdShDbF9jYXRpb25SYXRpbyk7XG5cbiAgdmFyIHNldFRvRml4ZWQgPSBmdW5jdGlvbiAoZWxlbSkge1xuICAgIGlmIChlbGVtID09PSAwKSB7XG4gICAgICByZXR1cm4gZWxlbTtcbiAgICB9IGVsc2UgaWYgKGVsZW0udG9GaXhlZCgyKSA8IDAuMDAwMSkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfSBlbHNlIGlmIChpc05hTihlbGVtKSkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBlbGVtLnRvRml4ZWQoMik7XG4gICAgfVxuICB9XG5cbiAgLy8gc2V0dGluZyBvdXRwdXRzIHZhbHVlc1xuICAkKCcjTmEyTy1vdXRwdXQnKS50ZXh0KHNldFRvRml4ZWQoTmEyT19hcGZ1KSk7XG4gICQoJyNLMk8tb3V0cHV0JykudGV4dChzZXRUb0ZpeGVkKEsyT19hcGZ1KSk7XG4gICQoJyNBbDJPMy1vdXRwdXQnKS50ZXh0KHNldFRvRml4ZWQoQWwyTzNfYXBmdSkpO1xuICAkKCcjTWdPLW91dHB1dCcpLnRleHQoc2V0VG9GaXhlZChNZ09fYXBmdSkpO1xuICAkKCcjRmVPLW91dHB1dCcpLnRleHQoc2V0VG9GaXhlZChGZU9fYXBmdSkpO1xuICAkKCcjRmUyTzMtb3V0cHV0JykudGV4dChzZXRUb0ZpeGVkKEZlMk8zX2FwZnUpKTtcbiAgJCgnI0NhTy1vdXRwdXQnKS50ZXh0KHNldFRvRml4ZWQoQ2FPX2FwZnUpKTtcbiAgJCgnI01uTy1vdXRwdXQnKS50ZXh0KHNldFRvRml4ZWQoTW5PX2FwZnUpKTtcbiAgJCgnI1RpTzItb3V0cHV0JykudGV4dChzZXRUb0ZpeGVkKFRpTzJfYXBmdSkpO1xuICAkKCcjU2lPMi1vdXRwdXQnKS50ZXh0KHNldFRvRml4ZWQoU2lPMl9hcGZ1KSk7XG4gICQoJyNIMk8tb3V0cHV0JykudGV4dChzZXRUb0ZpeGVkKEgyT19hcGZ1KSk7XG4gICQoJyNGLW91dHB1dCcpLnRleHQoc2V0VG9GaXhlZChGX2FwZnUpKTtcbiAgJCgnI0NsLW91dHB1dCcpLnRleHQoc2V0VG9GaXhlZChDbF9hcGZ1KSk7XG5cbiAgLy9tZWRpYSBzZXR0aW5nc1xuICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPCA2MDApIHtcbiAgICAkKCcubWFpbl9fb3V0cHV0LWFyZWEnKS5zbGlkZURvd24oJ2Zhc3QnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7IHNjcm9sbFRvcDogJChkb2N1bWVudCkuaGVpZ2h0KCkgfSwgJ2Zhc3QnKTtcbiAgICB9KTtcbiAgfVxuXG59O1xuXG4vLyBnZXR0aW5nIDxzZWxlY3Q+IHZhbHVlXG52YXIgbWluZXJhbFNlbGVjdFZhbHVlID0gJCgnI21pbmVyYWwtc2VsZWN0JylbMF0udmFsdWU7XG4kKCcjbWluZXJhbC1zZWxlY3QnKS5vbignY2hhbmdlJywgZnVuY3Rpb24oKSB7XG4gIG1pbmVyYWxTZWxlY3RWYWx1ZSA9ICQoJyNtaW5lcmFsLXNlbGVjdCcpWzBdLnZhbHVlO1xuICBpZiAoJCgnI21pbmVyYWwtc2VsZWN0IG9wdGlvbjpzZWxlY3RlZCcpWzBdLmNsYXNzTmFtZSA9PSAnaHlkcm91cycpIHtcbiAgICAkKCcubWFpbl9faW5wdXQtY2VsbC0tSDJPJykuc2xpZGVEb3duKCdmYXN0Jyk7XG4gICAgJCgnLm1haW5fX291dHB1dC1jZWxsLS1IMk8nKS5zbGlkZURvd24oJ2Zhc3QnKTtcbiAgICAkKCcubWFpbl9faW5wdXQtY2VsbC0tRicpLnNsaWRlVXAoJ2Zhc3QnKTtcbiAgICAkKCcubWFpbl9fb3V0cHV0LWNlbGwtLUYnKS5zbGlkZVVwKCdmYXN0Jyk7XG4gICAgJCgnLm1haW5fX2lucHV0LWNlbGwtLUNsJykuc2xpZGVVcCgnZmFzdCcpO1xuICAgICQoJy5tYWluX19vdXRwdXQtY2VsbC0tQ2wnKS5zbGlkZVVwKCdmYXN0Jyk7XG4gIH0gZWxzZSBpZiAoJCgnI21pbmVyYWwtc2VsZWN0IG9wdGlvbjpzZWxlY3RlZCcpWzBdLmNsYXNzTmFtZSA9PSAnYW5oeWRyb3VzJykge1xuICAgICQoJy5tYWluX19pbnB1dC1jZWxsLS1IMk8nKS5zbGlkZVVwKCdmYXN0Jyk7XG4gICAgJCgnLm1haW5fX291dHB1dC1jZWxsLS1IMk8nKS5zbGlkZVVwKCdmYXN0Jyk7XG4gICAgJCgnLm1haW5fX2lucHV0LWNlbGwtLUYnKS5zbGlkZVVwKCdmYXN0Jyk7XG4gICAgJCgnLm1haW5fX291dHB1dC1jZWxsLS1GJykuc2xpZGVVcCgnZmFzdCcpO1xuICAgICQoJy5tYWluX19pbnB1dC1jZWxsLS1DbCcpLnNsaWRlVXAoJ2Zhc3QnKTtcbiAgICAkKCcubWFpbl9fb3V0cHV0LWNlbGwtLUNsJykuc2xpZGVVcCgnZmFzdCcpO1xuICB9IGVsc2UgaWYgKCQoJyNtaW5lcmFsLXNlbGVjdCBvcHRpb246c2VsZWN0ZWQnKVswXS5jbGFzc05hbWUgPT0gJ21pY2FzJykge1xuICAgICQoJy5tYWluX19pbnB1dC1jZWxsLS1IMk8nKS5zbGlkZURvd24oJ2Zhc3QnKTtcbiAgICAkKCcubWFpbl9fb3V0cHV0LWNlbGwtLUgyTycpLnNsaWRlRG93bignZmFzdCcpO1xuICAgICQoJy5tYWluX19pbnB1dC1jZWxsLS1GJykuc2xpZGVEb3duKCdmYXN0Jyk7XG4gICAgJCgnLm1haW5fX291dHB1dC1jZWxsLS1GJykuc2xpZGVEb3duKCdmYXN0Jyk7XG4gICAgJCgnLm1haW5fX2lucHV0LWNlbGwtLUNsJykuc2xpZGVVcCgnZmFzdCcpO1xuICAgICQoJy5tYWluX19vdXRwdXQtY2VsbC0tQ2wnKS5zbGlkZVVwKCdmYXN0Jyk7XG4gIH0gZWxzZSBpZiAoJCgnI21pbmVyYWwtc2VsZWN0IG9wdGlvbjpzZWxlY3RlZCcpWzBdLmNsYXNzTmFtZSA9PSAnaHlkcm91c0FtcGhpYm9sZXMnKSB7XG4gICAgJCgnLm1haW5fX2lucHV0LWNlbGwtLUgyTycpLnNsaWRlRG93bignZmFzdCcpO1xuICAgICQoJy5tYWluX19vdXRwdXQtY2VsbC0tSDJPJykuc2xpZGVEb3duKCdmYXN0Jyk7XG4gICAgJCgnLm1haW5fX2lucHV0LWNlbGwtLUYnKS5zbGlkZURvd24oJ2Zhc3QnKTtcbiAgICAkKCcubWFpbl9fb3V0cHV0LWNlbGwtLUYnKS5zbGlkZURvd24oJ2Zhc3QnKTtcbiAgICAkKCcubWFpbl9faW5wdXQtY2VsbC0tQ2wnKS5zbGlkZURvd24oJ2Zhc3QnKTtcbiAgICAkKCcubWFpbl9fb3V0cHV0LWNlbGwtLUNsJykuc2xpZGVEb3duKCdmYXN0Jyk7XG4gIH1cbn0pXG5cbi8vY2xlYXIgZnVuY3Rpb25cbnZhciBjbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgTmEyTyA9IDA7XG4gIEsyTyA9IDA7XG4gIEFsMk8zID0gMDtcbiAgTWdPID0gMDtcbiAgRmVPID0gMDtcbiAgRmUyTzMgPSAwO1xuICBDYU8gPSAwO1xuICBNbk8gPSAwO1xuICBUaU8yID0gMDtcbiAgU2lPMiA9IDA7XG4gIEgyTyA9IDA7XG4gIEYgPSAwO1xuICBDbCA9IDA7XG4gICQoJy5tYWluX19pbnB1dCcpLnZhbCgnJyk7XG4gICQoJy5tYWluX19vdXRwdXQnKS50ZXh0KCcnKTtcbiAgaW5wdXRzQXJyLmxlbmd0aCA9IDA7XG5cbiAgJCgnLmJ1dHRvbi0tY2FsY3VsYXRlLWFuaW9uJykucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcblxuICAvL21lZGlhIHNldHRpbmdzXG4gIGlmICgkKHdpbmRvdykud2lkdGgoKSA8IDYwMCkge1xuICAgICQoJy5tYWluX19vdXRwdXQtYXJlYScpLnNsaWRlVXAoJ2Zhc3QnKTtcbiAgfVxuXG59O1xuXG4vLyBzZXR0aW5nIGlucHV0cyBrZXlwcmVzcyBldmVudFxuJChkb2N1bWVudCkua2V5ZG93bihmdW5jdGlvbihlKSB7XG4gIGlmIChlLndoaWNoID09IDEzICYmIGlucHV0c0Fyci5sZW5ndGggPj0gMikge1xuICAgICQoJy5idXR0b24tLWNhbGN1bGF0ZS1hbmlvbicpLmFkZENsYXNzKCdidXR0b24tLWNhbGN1bGF0ZS1hbmlvbi1hY3RpdmUnKTtcbiAgfVxufSk7XG5cbiQoZG9jdW1lbnQpLmtleXVwKGZ1bmN0aW9uKGUpIHtcbiAgaWYgKGUud2hpY2ggPT0gMTMgJiYgaW5wdXRzQXJyLmxlbmd0aCA+PSAyKSB7XG4gICAgJCgnLmJ1dHRvbi0tY2FsY3VsYXRlLWFuaW9uJykucmVtb3ZlQ2xhc3MoJ2J1dHRvbi0tY2FsY3VsYXRlLWFuaW9uLWFjdGl2ZScpO1xuICAgIGNhbGN1bGF0ZSgpO1xuICB9XG59KTtcblxuLy8gc2V0IGJ1dHRvbnMgZXZlbnRzXG4kKCcuYnV0dG9uLS1jYWxjdWxhdGUtYW5pb24nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gIGNhbGN1bGF0ZSgpO1xufSk7XG5cbiQoJy5idXR0b24tLWNsZWFyJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICBjbGVhcigpO1xufSk7XG5cbi8vIGRlc2NyaXB0aW9uIHZpc2liaWxpdHlcbnZhciBkZXNjcmlwdGlvblRvZ2dsZSA9IGZ1bmN0aW9uICgpIHtcbiAgJCgnLmRlc2NyaXB0aW9uLXRleHQtLW1vcmUnKS5mYWRlVG9nZ2xlKCdmYXN0JywgZnVuY3Rpb24oKSB7XG4gICAgaWYgKCQoJy5kZXNjcmlwdGlvbi10ZXh0LS1tb3JlJykuaXMoJzpoaWRkZW4nKSlcbiAgICB7XG4gICAgICAkKCcuZGVzY3JpcHRpb24tdG9nZ2xlJykudGV4dCgnU2hvdyBtb3JlLicpO1xuICAgIH0gZWxzZSBpZiAoJCgnLmRlc2NyaXB0aW9uLXRleHQtLW1vcmUnKS5ub3QoJzpoaWRkZW4nKSkge1xuICAgICAgJCgnLmRlc2NyaXB0aW9uLXRvZ2dsZScpLnRleHQoJ1Nob3cgbGVzcy4nKTtcbiAgICB9XG4gIH0pO1xufTtcblxuJCgnLmRlc2NyaXB0aW9uLXRvZ2dsZScpLm9uKCdjbGljaycsIGRlc2NyaXB0aW9uVG9nZ2xlKTtcblxuJCgnLmRlc2NyaXB0aW9uLXRvZ2dsZScpLm9uKCdrZXl1cCcsIGZ1bmN0aW9uIChlKSB7XG4gIGlmIChlLmtleUNvZGUgPT09IEtFWUNPREVTLlNQQUNFIHx8IGUua2V5Q29kZSA9PT0gS0VZQ09ERVMuRU5URVIpIHtcbiAgICBkZXNjcmlwdGlvblRvZ2dsZSgpO1xuICB9XG59KTtcblxuLy8gYnV0dG9uIGRpc2FibGUgc2V0dGluZ3NcbiQoJy5idXR0b24tLWNhbGN1bGF0ZS1hbmlvbicpLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XG5cbnZhciBpbnB1dHNBcnIgPSBbXTtcbiQoJy5tYWluJykub24oJ2lucHV0JywgZnVuY3Rpb24gKGUpIHtcblxuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIGlucHV0c0FyciA9IEFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbCgkKCcubWFpbl9faW5wdXQnKSwgaXRlbSA9PiB7XG4gICAgcmV0dXJuIGl0ZW0udmFsdWUgIT09ICcnO1xuICB9KTtcblxuICBpZiAoaW5wdXRzQXJyLmxlbmd0aCA8IDIpIHtcbiAgICAkKCcuYnV0dG9uLS1jYWxjdWxhdGUtYW5pb24nKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xuICB9IGVsc2UgaWYgKGlucHV0c0Fyci5sZW5ndGggPj0gMikge1xuICAgICQoJy5idXR0b24tLWNhbGN1bGF0ZS1hbmlvbicpLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpO1xuICB9XG5cbn0pO1xuXG4vLyB0aGF0cyBhbGwsIGZhbGtzXG4iXX0=
