"use strict";$(".description-text--more").hide(),$(".main__input-cell--H2O").hide(),$(".main__output-cell--H2O").hide(),$(".main__input-cell--F").hide(),$(".main__output-cell--F").hide(),$(".main__input-cell--Cl").hide(),$(".main__output-cell--Cl").hide(),$(window).width()<600&&$(".main__output-area").hide();var NA2O_MOL=61.979,K2O_MOL=94.196,AL2O3_MOL=101.961,MGO_MOL=40.304,FEO_MOL=71.846,FE2O3_MOL=159.692,CAO_MOL=56.077,MNO_MOL=70.938,TIO2_MOL=79.879,SIO2_MOL=60.084,H2O_MOL=18.015,F_MOL=18.994,CL_MOL=35.453,KEYCODES={ENTER:13,SPACE:32},Na2O=0,K2O=0,Al2O3=0,MgO=0,FeO=0,Fe2O3=0,CaO=0,MnO=0,TiO2=0,SiO2=0,H2O=0,F=0,Cl=0;$("#Na2O-input").on("input",(function(){Na2O=this.value})),$("#K2O-input").on("input",(function(){K2O=this.value})),$("#Al2O3-input").on("input",(function(){Al2O3=this.value})),$("#MgO-input").on("input",(function(){MgO=this.value})),$("#FeO-input").on("input",(function(){FeO=this.value})),$("#Fe2O3-input").on("input",(function(){Fe2O3=this.value})),$("#CaO-input").on("input",(function(){CaO=this.value})),$("#MnO-input").on("input",(function(){MnO=this.value})),$("#TiO2-input").on("input",(function(){TiO2=this.value})),$("#SiO2-input").on("input",(function(){SiO2=this.value})),$("#H2O-input").on("input",(function(){H2O=this.value})),$("#F-input").on("input",(function(){F=this.value})),$("#Cl-input").on("input",(function(){Cl=this.value}));var calculate=function(){var t=function(t,n){return t/n},n=t(Na2O,NA2O_MOL),i=t(K2O,K2O_MOL),e=t(Al2O3,AL2O3_MOL),l=t(MgO,MGO_MOL),u=t(FeO,FEO_MOL),a=t(Fe2O3,FE2O3_MOL),o=t(CaO,CAO_MOL),c=t(MnO,MNO_MOL),O=t(TiO2,TIO2_MOL),p=t(SiO2,SIO2_MOL),s=t(H2O,H2O_MOL),_=t(F,F_MOL),d=t(Cl,CL_MOL),r=n,m=i,f=3*e,h=l,M=u,C=3*a,L=o,g=c,v=2*O,w=2*p,x=s,A=_,H=d,N=2*i,S=2*e,D=l,b=u,E=2*a,T=o,U=c,y=O,K=p,k=2*s,I=_,V=d,Y=function(t){return t/((r+m+f+h+M+C+L+g+v+w+x+A+H-(A+H)/2)/mineralSelectValue)},G=Y(2*n),P=Y(N),R=Y(S),j=Y(D),q=Y(b),z=Y(E),B=Y(T),J=Y(U),Q=Y(y),W=Y(K),X=Y(k),Z=Y(I),tt=Y(V),nt=function(t){return 0===t?t:t.toFixed(2)<1e-4||isNaN(t)?0:t.toFixed(2)};$("#Na2O-output").text(nt(G)),$("#K2O-output").text(nt(P)),$("#Al2O3-output").text(nt(R)),$("#MgO-output").text(nt(j)),$("#FeO-output").text(nt(q)),$("#Fe2O3-output").text(nt(z)),$("#CaO-output").text(nt(B)),$("#MnO-output").text(nt(J)),$("#TiO2-output").text(nt(Q)),$("#SiO2-output").text(nt(W)),$("#H2O-output").text(nt(X)),$("#F-output").text(nt(Z)),$("#Cl-output").text(nt(tt)),$(window).width()<600&&$(".main__output-area").slideDown("fast",(function(){$("html, body").animate({scrollTop:$(document).height()},"fast")}))},mineralSelectValue=$("#mineral-select")[0].value;$("#mineral-select").on("change",(function(){mineralSelectValue=$("#mineral-select")[0].value,"hydrous"==$("#mineral-select option:selected")[0].className?($(".main__input-cell--H2O").slideDown("fast"),$(".main__output-cell--H2O").slideDown("fast"),$(".main__input-cell--F").slideUp("fast"),$(".main__output-cell--F").slideUp("fast"),$(".main__input-cell--Cl").slideUp("fast"),$(".main__output-cell--Cl").slideUp("fast")):"anhydrous"==$("#mineral-select option:selected")[0].className?($(".main__input-cell--H2O").slideUp("fast"),$(".main__output-cell--H2O").slideUp("fast"),$(".main__input-cell--F").slideUp("fast"),$(".main__output-cell--F").slideUp("fast"),$(".main__input-cell--Cl").slideUp("fast"),$(".main__output-cell--Cl").slideUp("fast")):"micas"==$("#mineral-select option:selected")[0].className?($(".main__input-cell--H2O").slideDown("fast"),$(".main__output-cell--H2O").slideDown("fast"),$(".main__input-cell--F").slideDown("fast"),$(".main__output-cell--F").slideDown("fast"),$(".main__input-cell--Cl").slideUp("fast"),$(".main__output-cell--Cl").slideUp("fast")):"hydrousAmphiboles"==$("#mineral-select option:selected")[0].className&&($(".main__input-cell--H2O").slideDown("fast"),$(".main__output-cell--H2O").slideDown("fast"),$(".main__input-cell--F").slideDown("fast"),$(".main__output-cell--F").slideDown("fast"),$(".main__input-cell--Cl").slideDown("fast"),$(".main__output-cell--Cl").slideDown("fast"))}));var clear=function(){Na2O=0,K2O=0,Al2O3=0,MgO=0,FeO=0,Fe2O3=0,CaO=0,MnO=0,TiO2=0,SiO2=0,H2O=0,F=0,Cl=0,$(".main__input").val(""),$(".main__output").text(""),inputsArr.length=0,$(".button--calculate-anion").prop("disabled",!0),$(window).width()<600&&$(".main__output-area").slideUp("fast")};$(document).keydown((function(t){13==t.which&&inputsArr.length>=2&&$(".button--calculate-anion").addClass("button--calculate-anion-active")})),$(document).keyup((function(t){13==t.which&&inputsArr.length>=2&&($(".button--calculate-anion").removeClass("button--calculate-anion-active"),calculate())})),$(".button--calculate-anion").on("click",(function(){calculate()})),$(".button--clear").on("click",(function(){clear()}));var descriptionToggle=function(){$(".description-text--more").fadeToggle("fast",(function(){$(".description-text--more").is(":hidden")?$(".description-toggle").text("Show more."):$(".description-text--more").not(":hidden")&&$(".description-toggle").text("Show less.")}))};$(".description-toggle").on("click",descriptionToggle),$(".description-toggle").on("keyup",(function(t){t.keyCode!==KEYCODES.SPACE&&t.keyCode!==KEYCODES.ENTER||descriptionToggle()})),$(".button--calculate-anion").prop("disabled",!0);var inputsArr=[];$(".main").on("input",(function(t){t.preventDefault(),(inputsArr=Array.prototype.filter.call($(".main__input"),t=>""!==t.value)).length<2?$(".button--calculate-anion").prop("disabled",!0):inputsArr.length>=2&&$(".button--calculate-anion").prop("disabled",!1)}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFuaW9uLmpzIl0sIm5hbWVzIjpbIiQiLCJoaWRlIiwid2luZG93Iiwid2lkdGgiLCJOQTJPX01PTCIsIksyT19NT0wiLCJBTDJPM19NT0wiLCJNR09fTU9MIiwiRkVPX01PTCIsIkZFMk8zX01PTCIsIkNBT19NT0wiLCJNTk9fTU9MIiwiVElPMl9NT0wiLCJTSU8yX01PTCIsIkgyT19NT0wiLCJGX01PTCIsIkNMX01PTCIsIktFWUNPREVTIiwiRU5URVIiLCJTUEFDRSIsIk5hMk8iLCJLMk8iLCJBbDJPMyIsIk1nTyIsIkZlTyIsIkZlMk8zIiwiQ2FPIiwiTW5PIiwiVGlPMiIsIlNpTzIiLCJIMk8iLCJGIiwiQ2wiLCJvbiIsInRoaXMiLCJ2YWx1ZSIsImNhbGN1bGF0ZSIsImdldE1vbFJhdGlvIiwiZWxlbSIsIm1vbCIsIk5hMk9fTW9sUmF0aW8iLCJLMk9fTW9sUmF0aW8iLCJBbDJPM19Nb2xSYXRpbyIsIk1nT19Nb2xSYXRpbyIsIkZlT19Nb2xSYXRpbyIsIkZlMk8zX01vbFJhdGlvIiwiQ2FPX01vbFJhdGlvIiwiTW5PX01vbFJhdGlvIiwiVGlPMl9Nb2xSYXRpbyIsIlNpTzJfTW9sUmF0aW8iLCJIMk9fTW9sUmF0aW8iLCJGX01vbFJhdGlvIiwiQ2xfTW9sUmF0aW8iLCJOYTJPX2FuaW9uUmF0aW8iLCJLMk9fYW5pb25SYXRpbyIsIkFsMk8zX2FuaW9uUmF0aW8iLCJNZ09fYW5pb25SYXRpbyIsIkZlT19hbmlvblJhdGlvIiwiRmUyTzNfYW5pb25SYXRpbyIsIkNhT19hbmlvblJhdGlvIiwiTW5PX2FuaW9uUmF0aW8iLCJUaU8yX2FuaW9uUmF0aW8iLCJTaU8yX2FuaW9uUmF0aW8iLCJIMk9fYW5pb25SYXRpbyIsIkZfYW5pb25SYXRpbyIsIkNsX2FuaW9uUmF0aW8iLCJLMk9fY2F0aW9uUmF0aW8iLCJBbDJPM19jYXRpb25SYXRpbyIsIk1nT19jYXRpb25SYXRpbyIsIkZlT19jYXRpb25SYXRpbyIsIkZlMk8zX2NhdGlvblJhdGlvIiwiQ2FPX2NhdGlvblJhdGlvIiwiTW5PX2NhdGlvblJhdGlvIiwiVGlPMl9jYXRpb25SYXRpbyIsIlNpTzJfY2F0aW9uUmF0aW8iLCJIMk9fY2F0aW9uUmF0aW8iLCJGX2NhdGlvblJhdGlvIiwiQ2xfY2F0aW9uUmF0aW8iLCJnZXRBcGZ1IiwibWluZXJhbCIsIm1pbmVyYWxTZWxlY3RWYWx1ZSIsIk5hMk9fYXBmdSIsIksyT19hcGZ1IiwiQWwyTzNfYXBmdSIsIk1nT19hcGZ1IiwiRmVPX2FwZnUiLCJGZTJPM19hcGZ1IiwiQ2FPX2FwZnUiLCJNbk9fYXBmdSIsIlRpTzJfYXBmdSIsIlNpTzJfYXBmdSIsIkgyT19hcGZ1IiwiRl9hcGZ1IiwiQ2xfYXBmdSIsInNldFRvRml4ZWQiLCJ0b0ZpeGVkIiwiaXNOYU4iLCJ0ZXh0Iiwic2xpZGVEb3duIiwiYW5pbWF0ZSIsInNjcm9sbFRvcCIsImRvY3VtZW50IiwiaGVpZ2h0IiwiY2xhc3NOYW1lIiwic2xpZGVVcCIsImNsZWFyIiwidmFsIiwiaW5wdXRzQXJyIiwibGVuZ3RoIiwicHJvcCIsImtleWRvd24iLCJlIiwid2hpY2giLCJhZGRDbGFzcyIsImtleXVwIiwicmVtb3ZlQ2xhc3MiLCJkZXNjcmlwdGlvblRvZ2dsZSIsImZhZGVUb2dnbGUiLCJpcyIsIm5vdCIsImtleUNvZGUiLCJwcmV2ZW50RGVmYXVsdCIsIkFycmF5IiwicHJvdG90eXBlIiwiZmlsdGVyIiwiY2FsbCIsIml0ZW0iXSwibWFwcGluZ3MiOiJBQUFBLGFBR0FBLEVBQUUsMkJBQTJCQyxPQUM3QkQsRUFBRSwwQkFBMEJDLE9BQzVCRCxFQUFFLDJCQUEyQkMsT0FDN0JELEVBQUUsd0JBQXdCQyxPQUMxQkQsRUFBRSx5QkFBeUJDLE9BQzNCRCxFQUFFLHlCQUF5QkMsT0FDM0JELEVBQUUsMEJBQTBCQyxPQUd4QkQsRUFBRUUsUUFBUUMsUUFBVSxLQUN0QkgsRUFBRSxzQkFBc0JDLE9BSTFCLElBQUlHLFNBQVcsT0FDWEMsUUFBVSxPQUNWQyxVQUFZLFFBQ1pDLFFBQVUsT0FDVkMsUUFBVSxPQUNWQyxV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QUFZdkcsU0FBU0UsT0FBUzRGLEVBQUVTLFVBQVl2RyxTQUFTQyxPQUN6RGtHLHVCQUtKcEgsRUFBRSw0QkFBNEI2RyxLQUFLLFlBQVksR0FFL0MsSUFBSUYsVUFBWSxHQUNoQjNHLEVBQUUsU0FBU2lDLEdBQUcsU0FBUyxTQUFVOEUsR0FFL0JBLEVBQUVVLGtCQUNGZCxVQUFZZSxNQUFNQyxVQUFVQyxPQUFPQyxLQUFLN0gsRUFBRSxnQkFBaUI4SCxHQUNuQyxLQUFmQSxFQUFLM0YsUUFHQXlFLE9BQVMsRUFDckI1RyxFQUFFLDRCQUE0QjZHLEtBQUssWUFBWSxHQUN0Q0YsVUFBVUMsUUFBVSxHQUM3QjVHLEVBQUUsNEJBQTRCNkcsS0FBSyxZQUFZIiwiZmlsZSI6ImFuaW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG4vLyB2aXNpYmlsaXR5IHNldHRpbmdzXG4kKCcuZGVzY3JpcHRpb24tdGV4dC0tbW9yZScpLmhpZGUoKTtcbiQoJy5tYWluX19pbnB1dC1jZWxsLS1IMk8nKS5oaWRlKCk7XG4kKCcubWFpbl9fb3V0cHV0LWNlbGwtLUgyTycpLmhpZGUoKTtcbiQoJy5tYWluX19pbnB1dC1jZWxsLS1GJykuaGlkZSgpO1xuJCgnLm1haW5fX291dHB1dC1jZWxsLS1GJykuaGlkZSgpO1xuJCgnLm1haW5fX2lucHV0LWNlbGwtLUNsJykuaGlkZSgpO1xuJCgnLm1haW5fX291dHB1dC1jZWxsLS1DbCcpLmhpZGUoKTtcblxuLy8gbWVkaWEgcXVlcnlzIG9wdGlvbnNcbmlmICgkKHdpbmRvdykud2lkdGgoKSA8IDYwMCkge1xuICAkKCcubWFpbl9fb3V0cHV0LWFyZWEnKS5oaWRlKCk7XG59XG5cbi8vIENPTlNUU1xudmFyIE5BMk9fTU9MID0gNjEuOTc5O1xudmFyIEsyT19NT0wgPSA5NC4xOTY7XG52YXIgQUwyTzNfTU9MID0gMTAxLjk2MTtcbnZhciBNR09fTU9MID0gNDAuMzA0O1xudmFyIEZFT19NT0wgPSA3MS44NDY7XG52YXIgRkUyTzNfTU9MID0gMTU5LjY5MjsgLy8gbmV3XG52YXIgQ0FPX01PTCA9IDU2LjA3NztcbnZhciBNTk9fTU9MID0gNzAuOTM4O1xudmFyIFRJTzJfTU9MID0gNzkuODc5O1xudmFyIFNJTzJfTU9MID0gNjAuMDg0O1xudmFyIEgyT19NT0wgPSAxOC4wMTU7XG52YXIgRl9NT0wgPSAxOC45OTQ7XG52YXIgQ0xfTU9MID0gMzUuNDUzO1xuXG52YXIgS0VZQ09ERVMgPSB7XG4gIEVOVEVSOiAxMyxcbiAgU1BBQ0U6IDMyLFxufTtcblxuLy8gc2V0dGluZyBlbGVtZW50IHZhbHVlc1xudmFyIE5hMk8gPSAwLCBLMk8gPSAwLCBBbDJPMyA9IDAsIE1nTyA9IDAsIEZlTyA9IDAsIEZlMk8zID0gMCwgQ2FPID0gMCwgTW5PID0gMCwgVGlPMiA9IDAsIFNpTzIgPSAwLCBIMk8gPSAwLCBGID0gMCwgQ2wgPSAwO1xuXG4vLyBnZXR0aW5nIGlucHV0cyB2YWx1ZXNcbiQoJyNOYTJPLWlucHV0Jykub24oJ2lucHV0JywgZnVuY3Rpb24oKSB7XG4gIE5hMk8gPSB0aGlzLnZhbHVlO1xufSk7XG4kKCcjSzJPLWlucHV0Jykub24oJ2lucHV0JywgZnVuY3Rpb24oKSB7XG4gIEsyTyA9IHRoaXMudmFsdWU7XG59KTtcbiQoJyNBbDJPMy1pbnB1dCcpLm9uKCdpbnB1dCcsIGZ1bmN0aW9uKCkge1xuICBBbDJPMyA9IHRoaXMudmFsdWU7XG59KTtcbiQoJyNNZ08taW5wdXQnKS5vbignaW5wdXQnLCBmdW5jdGlvbigpIHtcbiAgTWdPID0gdGhpcy52YWx1ZTtcbn0pO1xuJCgnI0ZlTy1pbnB1dCcpLm9uKCdpbnB1dCcsIGZ1bmN0aW9uKCkge1xuICBGZU8gPSB0aGlzLnZhbHVlO1xufSk7XG4kKCcjRmUyTzMtaW5wdXQnKS5vbignaW5wdXQnLCBmdW5jdGlvbigpIHtcbiAgRmUyTzMgPSB0aGlzLnZhbHVlO1xufSk7XG4kKCcjQ2FPLWlucHV0Jykub24oJ2lucHV0JywgZnVuY3Rpb24oKSB7XG4gIENhTyA9IHRoaXMudmFsdWU7XG59KTtcbiQoJyNNbk8taW5wdXQnKS5vbignaW5wdXQnLCBmdW5jdGlvbigpIHtcbiAgTW5PID0gdGhpcy52YWx1ZTtcbn0pO1xuJCgnI1RpTzItaW5wdXQnKS5vbignaW5wdXQnLCBmdW5jdGlvbigpIHtcbiAgVGlPMiA9IHRoaXMudmFsdWU7XG59KTtcbiQoJyNTaU8yLWlucHV0Jykub24oJ2lucHV0JywgZnVuY3Rpb24oKSB7XG4gIFNpTzIgPSB0aGlzLnZhbHVlO1xufSk7XG4kKCcjSDJPLWlucHV0Jykub24oJ2lucHV0JywgZnVuY3Rpb24oKSB7XG4gIEgyTyA9IHRoaXMudmFsdWU7XG59KTtcbiQoJyNGLWlucHV0Jykub24oJ2lucHV0JywgZnVuY3Rpb24oKSB7XG4gIEYgPSB0aGlzLnZhbHVlO1xufSk7XG4kKCcjQ2wtaW5wdXQnKS5vbignaW5wdXQnLCBmdW5jdGlvbigpIHtcbiAgQ2wgPSB0aGlzLnZhbHVlO1xufSk7XG5cbi8vY2FsY3VsYXRlIGZ1bmN0aW9uXG52YXIgY2FsY3VsYXRlID0gZnVuY3Rpb24gKCkge1xuICB2YXIgZ2V0TW9sUmF0aW8gPSBmdW5jdGlvbiAoZWxlbSwgbW9sKSB7XG4gICAgdmFyIG1vbFJhdGlvID0gZWxlbSAvIG1vbDtcbiAgICByZXR1cm4gbW9sUmF0aW87XG4gIH07XG5cbiAgLy8gbW9sIHJhdGlvc1xuICB2YXIgTmEyT19Nb2xSYXRpbyA9IGdldE1vbFJhdGlvKE5hMk8sIE5BMk9fTU9MKTtcbiAgdmFyIEsyT19Nb2xSYXRpbyA9IGdldE1vbFJhdGlvKEsyTywgSzJPX01PTCk7XG4gIHZhciBBbDJPM19Nb2xSYXRpbyA9IGdldE1vbFJhdGlvKEFsMk8zLCBBTDJPM19NT0wpO1xuICB2YXIgTWdPX01vbFJhdGlvID0gZ2V0TW9sUmF0aW8oTWdPLCBNR09fTU9MKTtcbiAgdmFyIEZlT19Nb2xSYXRpbyA9IGdldE1vbFJhdGlvKEZlTywgRkVPX01PTCk7XG4gIHZhciBGZTJPM19Nb2xSYXRpbyA9IGdldE1vbFJhdGlvKEZlMk8zLCBGRTJPM19NT0wpO1xuICB2YXIgQ2FPX01vbFJhdGlvID0gZ2V0TW9sUmF0aW8oQ2FPLCBDQU9fTU9MKTtcbiAgdmFyIE1uT19Nb2xSYXRpbyA9IGdldE1vbFJhdGlvKE1uTywgTU5PX01PTCk7XG4gIHZhciBUaU8yX01vbFJhdGlvID0gZ2V0TW9sUmF0aW8oVGlPMiwgVElPMl9NT0wpO1xuICB2YXIgU2lPMl9Nb2xSYXRpbyA9IGdldE1vbFJhdGlvKFNpTzIsIFNJTzJfTU9MKTtcbiAgdmFyIEgyT19Nb2xSYXRpbyA9IGdldE1vbFJhdGlvKEgyTywgSDJPX01PTCk7XG4gIHZhciBGX01vbFJhdGlvID0gZ2V0TW9sUmF0aW8oRiwgRl9NT0wpO1xuICB2YXIgQ2xfTW9sUmF0aW8gPSBnZXRNb2xSYXRpbyhDbCwgQ0xfTU9MKTtcblxuICAvLyBhbmlvbiByYXRpb3NcbiAgdmFyIE5hMk9fYW5pb25SYXRpbyA9IE5hMk9fTW9sUmF0aW87XG4gIHZhciBLMk9fYW5pb25SYXRpbyA9IEsyT19Nb2xSYXRpbztcbiAgdmFyIEFsMk8zX2FuaW9uUmF0aW8gPSBBbDJPM19Nb2xSYXRpbyAqIDM7XG4gIHZhciBNZ09fYW5pb25SYXRpbyA9IE1nT19Nb2xSYXRpbztcbiAgdmFyIEZlT19hbmlvblJhdGlvID0gRmVPX01vbFJhdGlvO1xuICB2YXIgRmUyTzNfYW5pb25SYXRpbyA9IEZlMk8zX01vbFJhdGlvICogMztcbiAgdmFyIENhT19hbmlvblJhdGlvID0gQ2FPX01vbFJhdGlvO1xuICB2YXIgTW5PX2FuaW9uUmF0aW8gPSBNbk9fTW9sUmF0aW87XG4gIHZhciBUaU8yX2FuaW9uUmF0aW8gPSBUaU8yX01vbFJhdGlvICogMjtcbiAgdmFyIFNpTzJfYW5pb25SYXRpbyA9IFNpTzJfTW9sUmF0aW8gKiAyO1xuICB2YXIgSDJPX2FuaW9uUmF0aW8gPSBIMk9fTW9sUmF0aW87XG4gIHZhciBGX2FuaW9uUmF0aW8gPSBGX01vbFJhdGlvO1xuICB2YXIgQ2xfYW5pb25SYXRpbyA9IENsX01vbFJhdGlvO1xuXG4gIC8vIGNhdGlvbiByYXRpb3NcbiAgdmFyIE5hMk9fY2F0aW9uUmF0aW8gPSBOYTJPX01vbFJhdGlvICogMjtcbiAgdmFyIEsyT19jYXRpb25SYXRpbyA9IEsyT19Nb2xSYXRpbyAqIDI7XG4gIHZhciBBbDJPM19jYXRpb25SYXRpbyA9IEFsMk8zX01vbFJhdGlvICogMjtcbiAgdmFyIE1nT19jYXRpb25SYXRpbyA9IE1nT19Nb2xSYXRpbztcbiAgdmFyIEZlT19jYXRpb25SYXRpbyA9IEZlT19Nb2xSYXRpbztcbiAgdmFyIEZlMk8zX2NhdGlvblJhdGlvID0gRmUyTzNfTW9sUmF0aW8gKiAyO1xuICB2YXIgQ2FPX2NhdGlvblJhdGlvID0gQ2FPX01vbFJhdGlvO1xuICB2YXIgTW5PX2NhdGlvblJhdGlvID0gTW5PX01vbFJhdGlvO1xuICB2YXIgVGlPMl9jYXRpb25SYXRpbyA9IFRpTzJfTW9sUmF0aW87XG4gIHZhciBTaU8yX2NhdGlvblJhdGlvID0gU2lPMl9Nb2xSYXRpbztcbiAgdmFyIEgyT19jYXRpb25SYXRpbyA9IEgyT19Nb2xSYXRpbyAqIDI7XG4gIHZhciBGX2NhdGlvblJhdGlvID0gRl9Nb2xSYXRpbztcbiAgdmFyIENsX2NhdGlvblJhdGlvID0gQ2xfTW9sUmF0aW87XG5cbiAgLy8gcHJvc3RvIGFuaW9uIHJhdGluZ1xuICB2YXIgZ2V0QW5pb25SYXRpb0ZhY3RvciA9IGZ1bmN0aW9uIChkaXZpc29yKSB7XG4gICAgcmV0dXJuIChOYTJPX2FuaW9uUmF0aW8gKyBLMk9fYW5pb25SYXRpbyArIEFsMk8zX2FuaW9uUmF0aW8gKyBNZ09fYW5pb25SYXRpbyArIEZlT19hbmlvblJhdGlvICsgRmUyTzNfYW5pb25SYXRpbyArIENhT19hbmlvblJhdGlvICsgTW5PX2FuaW9uUmF0aW8gKyBUaU8yX2FuaW9uUmF0aW8gKyBTaU8yX2FuaW9uUmF0aW8gKyBIMk9fYW5pb25SYXRpbyArIEZfYW5pb25SYXRpbyArIENsX2FuaW9uUmF0aW8gLSAoKEZfYW5pb25SYXRpbyArIENsX2FuaW9uUmF0aW8pLzIpKSAvIGRpdmlzb3I7XG4gIH1cblxuICB2YXIgZ2V0QXBmdSA9IGZ1bmN0aW9uIChtaW5lcmFsKSB7XG4gICAgcmV0dXJuIG1pbmVyYWwgLyBnZXRBbmlvblJhdGlvRmFjdG9yKG1pbmVyYWxTZWxlY3RWYWx1ZSk7XG4gIH1cblxuICAvLyBhcGZ1XG4gIHZhciBOYTJPX2FwZnUgPSBnZXRBcGZ1KE5hMk9fY2F0aW9uUmF0aW8pO1xuICB2YXIgSzJPX2FwZnUgPSBnZXRBcGZ1KEsyT19jYXRpb25SYXRpbyk7XG4gIHZhciBBbDJPM19hcGZ1ID0gZ2V0QXBmdShBbDJPM19jYXRpb25SYXRpbyk7XG4gIHZhciBNZ09fYXBmdSA9IGdldEFwZnUoTWdPX2NhdGlvblJhdGlvKTtcbiAgdmFyIEZlT19hcGZ1ID0gZ2V0QXBmdShGZU9fY2F0aW9uUmF0aW8pO1xuICB2YXIgRmUyTzNfYXBmdSA9IGdldEFwZnUoRmUyTzNfY2F0aW9uUmF0aW8pO1xuICB2YXIgQ2FPX2FwZnUgPSBnZXRBcGZ1KENhT19jYXRpb25SYXRpbyk7XG4gIHZhciBNbk9fYXBmdSA9IGdldEFwZnUoTW5PX2NhdGlvblJhdGlvKTtcbiAgdmFyIFRpTzJfYXBmdSA9IGdldEFwZnUoVGlPMl9jYXRpb25SYXRpbyk7XG4gIHZhciBTaU8yX2FwZnUgPSBnZXRBcGZ1KFNpTzJfY2F0aW9uUmF0aW8pO1xuICB2YXIgSDJPX2FwZnUgPSBnZXRBcGZ1KEgyT19jYXRpb25SYXRpbyk7XG4gIHZhciBGX2FwZnUgPSBnZXRBcGZ1KEZfY2F0aW9uUmF0aW8pO1xuICB2YXIgQ2xfYXBmdSA9IGdldEFwZnUoQ2xfY2F0aW9uUmF0aW8pO1xuXG4gIHZhciBzZXRUb0ZpeGVkID0gZnVuY3Rpb24gKGVsZW0pIHtcbiAgICBpZiAoZWxlbSA9PT0gMCkge1xuICAgICAgcmV0dXJuIGVsZW07XG4gICAgfSBlbHNlIGlmIChlbGVtLnRvRml4ZWQoMikgPCAwLjAwMDEpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH0gZWxzZSBpZiAoaXNOYU4oZWxlbSkpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZWxlbS50b0ZpeGVkKDIpO1xuICAgIH1cbiAgfVxuXG4gIC8vIHNldHRpbmcgb3V0cHV0cyB2YWx1ZXNcbiAgJCgnI05hMk8tb3V0cHV0JykudGV4dChzZXRUb0ZpeGVkKE5hMk9fYXBmdSkpO1xuICAkKCcjSzJPLW91dHB1dCcpLnRleHQoc2V0VG9GaXhlZChLMk9fYXBmdSkpO1xuICAkKCcjQWwyTzMtb3V0cHV0JykudGV4dChzZXRUb0ZpeGVkKEFsMk8zX2FwZnUpKTtcbiAgJCgnI01nTy1vdXRwdXQnKS50ZXh0KHNldFRvRml4ZWQoTWdPX2FwZnUpKTtcbiAgJCgnI0ZlTy1vdXRwdXQnKS50ZXh0KHNldFRvRml4ZWQoRmVPX2FwZnUpKTtcbiAgJCgnI0ZlMk8zLW91dHB1dCcpLnRleHQoc2V0VG9GaXhlZChGZTJPM19hcGZ1KSk7XG4gICQoJyNDYU8tb3V0cHV0JykudGV4dChzZXRUb0ZpeGVkKENhT19hcGZ1KSk7XG4gICQoJyNNbk8tb3V0cHV0JykudGV4dChzZXRUb0ZpeGVkKE1uT19hcGZ1KSk7XG4gICQoJyNUaU8yLW91dHB1dCcpLnRleHQoc2V0VG9GaXhlZChUaU8yX2FwZnUpKTtcbiAgJCgnI1NpTzItb3V0cHV0JykudGV4dChzZXRUb0ZpeGVkKFNpTzJfYXBmdSkpO1xuICAkKCcjSDJPLW91dHB1dCcpLnRleHQoc2V0VG9GaXhlZChIMk9fYXBmdSkpO1xuICAkKCcjRi1vdXRwdXQnKS50ZXh0KHNldFRvRml4ZWQoRl9hcGZ1KSk7XG4gICQoJyNDbC1vdXRwdXQnKS50ZXh0KHNldFRvRml4ZWQoQ2xfYXBmdSkpO1xuXG4gIC8vbWVkaWEgc2V0dGluZ3NcbiAgaWYgKCQod2luZG93KS53aWR0aCgpIDwgNjAwKSB7XG4gICAgJCgnLm1haW5fX291dHB1dC1hcmVhJykuc2xpZGVEb3duKCdmYXN0JywgZnVuY3Rpb24gKCkge1xuICAgICAgJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoeyBzY3JvbGxUb3A6ICQoZG9jdW1lbnQpLmhlaWdodCgpIH0sICdmYXN0Jyk7XG4gICAgfSk7XG4gIH1cblxufTtcblxuLy8gZ2V0dGluZyA8c2VsZWN0PiB2YWx1ZVxudmFyIG1pbmVyYWxTZWxlY3RWYWx1ZSA9ICQoJyNtaW5lcmFsLXNlbGVjdCcpWzBdLnZhbHVlO1xuJCgnI21pbmVyYWwtc2VsZWN0Jykub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xuICBtaW5lcmFsU2VsZWN0VmFsdWUgPSAkKCcjbWluZXJhbC1zZWxlY3QnKVswXS52YWx1ZTtcbiAgaWYgKCQoJyNtaW5lcmFsLXNlbGVjdCBvcHRpb246c2VsZWN0ZWQnKVswXS5jbGFzc05hbWUgPT0gJ2h5ZHJvdXMnKSB7XG4gICAgJCgnLm1haW5fX2lucHV0LWNlbGwtLUgyTycpLnNsaWRlRG93bignZmFzdCcpO1xuICAgICQoJy5tYWluX19vdXRwdXQtY2VsbC0tSDJPJykuc2xpZGVEb3duKCdmYXN0Jyk7XG4gICAgJCgnLm1haW5fX2lucHV0LWNlbGwtLUYnKS5zbGlkZVVwKCdmYXN0Jyk7XG4gICAgJCgnLm1haW5fX291dHB1dC1jZWxsLS1GJykuc2xpZGVVcCgnZmFzdCcpO1xuICAgICQoJy5tYWluX19pbnB1dC1jZWxsLS1DbCcpLnNsaWRlVXAoJ2Zhc3QnKTtcbiAgICAkKCcubWFpbl9fb3V0cHV0LWNlbGwtLUNsJykuc2xpZGVVcCgnZmFzdCcpO1xuICB9IGVsc2UgaWYgKCQoJyNtaW5lcmFsLXNlbGVjdCBvcHRpb246c2VsZWN0ZWQnKVswXS5jbGFzc05hbWUgPT0gJ2FuaHlkcm91cycpIHtcbiAgICAkKCcubWFpbl9faW5wdXQtY2VsbC0tSDJPJykuc2xpZGVVcCgnZmFzdCcpO1xuICAgICQoJy5tYWluX19vdXRwdXQtY2VsbC0tSDJPJykuc2xpZGVVcCgnZmFzdCcpO1xuICAgICQoJy5tYWluX19pbnB1dC1jZWxsLS1GJykuc2xpZGVVcCgnZmFzdCcpO1xuICAgICQoJy5tYWluX19vdXRwdXQtY2VsbC0tRicpLnNsaWRlVXAoJ2Zhc3QnKTtcbiAgICAkKCcubWFpbl9faW5wdXQtY2VsbC0tQ2wnKS5zbGlkZVVwKCdmYXN0Jyk7XG4gICAgJCgnLm1haW5fX291dHB1dC1jZWxsLS1DbCcpLnNsaWRlVXAoJ2Zhc3QnKTtcbiAgfSBlbHNlIGlmICgkKCcjbWluZXJhbC1zZWxlY3Qgb3B0aW9uOnNlbGVjdGVkJylbMF0uY2xhc3NOYW1lID09ICdtaWNhcycpIHtcbiAgICAkKCcubWFpbl9faW5wdXQtY2VsbC0tSDJPJykuc2xpZGVEb3duKCdmYXN0Jyk7XG4gICAgJCgnLm1haW5fX291dHB1dC1jZWxsLS1IMk8nKS5zbGlkZURvd24oJ2Zhc3QnKTtcbiAgICAkKCcubWFpbl9faW5wdXQtY2VsbC0tRicpLnNsaWRlRG93bignZmFzdCcpO1xuICAgICQoJy5tYWluX19vdXRwdXQtY2VsbC0tRicpLnNsaWRlRG93bignZmFzdCcpO1xuICAgICQoJy5tYWluX19pbnB1dC1jZWxsLS1DbCcpLnNsaWRlVXAoJ2Zhc3QnKTtcbiAgICAkKCcubWFpbl9fb3V0cHV0LWNlbGwtLUNsJykuc2xpZGVVcCgnZmFzdCcpO1xuICB9IGVsc2UgaWYgKCQoJyNtaW5lcmFsLXNlbGVjdCBvcHRpb246c2VsZWN0ZWQnKVswXS5jbGFzc05hbWUgPT0gJ2h5ZHJvdXNBbXBoaWJvbGVzJykge1xuICAgICQoJy5tYWluX19pbnB1dC1jZWxsLS1IMk8nKS5zbGlkZURvd24oJ2Zhc3QnKTtcbiAgICAkKCcubWFpbl9fb3V0cHV0LWNlbGwtLUgyTycpLnNsaWRlRG93bignZmFzdCcpO1xuICAgICQoJy5tYWluX19pbnB1dC1jZWxsLS1GJykuc2xpZGVEb3duKCdmYXN0Jyk7XG4gICAgJCgnLm1haW5fX291dHB1dC1jZWxsLS1GJykuc2xpZGVEb3duKCdmYXN0Jyk7XG4gICAgJCgnLm1haW5fX2lucHV0LWNlbGwtLUNsJykuc2xpZGVEb3duKCdmYXN0Jyk7XG4gICAgJCgnLm1haW5fX291dHB1dC1jZWxsLS1DbCcpLnNsaWRlRG93bignZmFzdCcpO1xuICB9XG59KVxuXG4vL2NsZWFyIGZ1bmN0aW9uXG52YXIgY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gIE5hMk8gPSAwO1xuICBLMk8gPSAwO1xuICBBbDJPMyA9IDA7XG4gIE1nTyA9IDA7XG4gIEZlTyA9IDA7XG4gIEZlMk8zID0gMDtcbiAgQ2FPID0gMDtcbiAgTW5PID0gMDtcbiAgVGlPMiA9IDA7XG4gIFNpTzIgPSAwO1xuICBIMk8gPSAwO1xuICBGID0gMDtcbiAgQ2wgPSAwO1xuICAkKCcubWFpbl9faW5wdXQnKS52YWwoJycpO1xuICAkKCcubWFpbl9fb3V0cHV0JykudGV4dCgnJyk7XG4gIGlucHV0c0Fyci5sZW5ndGggPSAwO1xuXG4gICQoJy5idXR0b24tLWNhbGN1bGF0ZS1hbmlvbicpLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XG5cbiAgLy9tZWRpYSBzZXR0aW5nc1xuICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPCA2MDApIHtcbiAgICAkKCcubWFpbl9fb3V0cHV0LWFyZWEnKS5zbGlkZVVwKCdmYXN0Jyk7XG4gIH1cblxufTtcblxuLy8gc2V0dGluZyBpbnB1dHMga2V5cHJlc3MgZXZlbnRcbiQoZG9jdW1lbnQpLmtleWRvd24oZnVuY3Rpb24oZSkge1xuICBpZiAoZS53aGljaCA9PSAxMyAmJiBpbnB1dHNBcnIubGVuZ3RoID49IDIpIHtcbiAgICAkKCcuYnV0dG9uLS1jYWxjdWxhdGUtYW5pb24nKS5hZGRDbGFzcygnYnV0dG9uLS1jYWxjdWxhdGUtYW5pb24tYWN0aXZlJyk7XG4gIH1cbn0pO1xuXG4kKGRvY3VtZW50KS5rZXl1cChmdW5jdGlvbihlKSB7XG4gIGlmIChlLndoaWNoID09IDEzICYmIGlucHV0c0Fyci5sZW5ndGggPj0gMikge1xuICAgICQoJy5idXR0b24tLWNhbGN1bGF0ZS1hbmlvbicpLnJlbW92ZUNsYXNzKCdidXR0b24tLWNhbGN1bGF0ZS1hbmlvbi1hY3RpdmUnKTtcbiAgICBjYWxjdWxhdGUoKTtcbiAgfVxufSk7XG5cbi8vIHNldCBidXR0b25zIGV2ZW50c1xuJCgnLmJ1dHRvbi0tY2FsY3VsYXRlLWFuaW9uJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICBjYWxjdWxhdGUoKTtcbn0pO1xuXG4kKCcuYnV0dG9uLS1jbGVhcicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgY2xlYXIoKTtcbn0pO1xuXG4vLyBkZXNjcmlwdGlvbiB2aXNpYmlsaXR5XG52YXIgZGVzY3JpcHRpb25Ub2dnbGUgPSBmdW5jdGlvbiAoKSB7XG4gICQoJy5kZXNjcmlwdGlvbi10ZXh0LS1tb3JlJykuZmFkZVRvZ2dsZSgnZmFzdCcsIGZ1bmN0aW9uKCkge1xuICAgIGlmICgkKCcuZGVzY3JpcHRpb24tdGV4dC0tbW9yZScpLmlzKCc6aGlkZGVuJykpXG4gICAge1xuICAgICAgJCgnLmRlc2NyaXB0aW9uLXRvZ2dsZScpLnRleHQoJ1Nob3cgbW9yZS4nKTtcbiAgICB9IGVsc2UgaWYgKCQoJy5kZXNjcmlwdGlvbi10ZXh0LS1tb3JlJykubm90KCc6aGlkZGVuJykpIHtcbiAgICAgICQoJy5kZXNjcmlwdGlvbi10b2dnbGUnKS50ZXh0KCdTaG93IGxlc3MuJyk7XG4gICAgfVxuICB9KTtcbn07XG5cbiQoJy5kZXNjcmlwdGlvbi10b2dnbGUnKS5vbignY2xpY2snLCBkZXNjcmlwdGlvblRvZ2dsZSk7XG5cbiQoJy5kZXNjcmlwdGlvbi10b2dnbGUnKS5vbigna2V5dXAnLCBmdW5jdGlvbiAoZSkge1xuICBpZiAoZS5rZXlDb2RlID09PSBLRVlDT0RFUy5TUEFDRSB8fCBlLmtleUNvZGUgPT09IEtFWUNPREVTLkVOVEVSKSB7XG4gICAgZGVzY3JpcHRpb25Ub2dnbGUoKTtcbiAgfVxufSk7XG5cbi8vIGJ1dHRvbiBkaXNhYmxlIHNldHRpbmdzXG4kKCcuYnV0dG9uLS1jYWxjdWxhdGUtYW5pb24nKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xuXG52YXIgaW5wdXRzQXJyID0gW107XG4kKCcubWFpbicpLm9uKCdpbnB1dCcsIGZ1bmN0aW9uIChlKSB7XG5cbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBpbnB1dHNBcnIgPSBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoJCgnLm1haW5fX2lucHV0JyksIGl0ZW0gPT4ge1xuICAgIHJldHVybiBpdGVtLnZhbHVlICE9PSAnJztcbiAgfSk7XG5cbiAgaWYgKGlucHV0c0Fyci5sZW5ndGggPCAyKSB7XG4gICAgJCgnLmJ1dHRvbi0tY2FsY3VsYXRlLWFuaW9uJykucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcbiAgfSBlbHNlIGlmIChpbnB1dHNBcnIubGVuZ3RoID49IDIpIHtcbiAgICAkKCcuYnV0dG9uLS1jYWxjdWxhdGUtYW5pb24nKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcbiAgfVxuXG59KTtcblxuLy8gdGhhdHMgYWxsLCBmYWxrc1xuIl19
