"use strict";$(".description-text--more").hide(),$(".main__input-cell--Fe2O3").hide(),$(".main__output-cell--Fe2O3").hide(),$(window).width()<600&&$(".main__output-area").hide();var NA2O_MOL=61.979,K2O_MOL=94.196,AL2O3_MOL=101.961,MGO_MOL=40.304,FEO_MOL=71.846,CAO_MOL=56.077,MNO_MOL=70.938,TIO2_MOL=79.879,SIO2_MOL=60.084,FE2O3_MOL=159.692;const KEYCODES={ENTER:13,SPACE:32};var thirteen=13,fifteen=15,twentyThree=23,fourtySix=46,Na2O=0,K2O=0,Al2O3=0,MgO=0,FeO=0,CaO=0,MnO=0,TiO2=0,SiO2=0;$("#Na2O-input").on("input",(function(){Na2O=this.value})),$("#K2O-input").on("input",(function(){K2O=this.value})),$("#Al2O3-input").on("input",(function(){Al2O3=this.value})),$("#MgO-input").on("input",(function(){MgO=this.value})),$("#FeO-input").on("input",(function(){FeO=this.value})),$("#Fe2O3-input").on("input",(function(){Fe2O3=this.value})),$("#CaO-input").on("input",(function(){CaO=this.value})),$("#MnO-input").on("input",(function(){MnO=this.value})),$("#TiO2-input").on("input",(function(){TiO2=this.value})),$("#SiO2-input").on("input",(function(){SiO2=this.value}));var calculate=function(){var t=function(t,e){return t/e},e=1.1113*FeO,u=t(Na2O,NA2O_MOL),n=t(K2O,K2O_MOL),i=t(Al2O3,AL2O3_MOL),l=t(MgO,MGO_MOL),a=t(FeO,FEO_MOL),O=t(CaO,CAO_MOL),o=t(MnO,MNO_MOL),p=t(TiO2,TIO2_MOL),c=t(SiO2,SIO2_MOL),r=e/FE2O3_MOL,s=2*u,_=2*n,f=2*i,m=l,x=a,M=O,d=o,h=p,F=c,S=u,w=n,v=3*i,A=l,T=a,L=O,g=o,V=2*p,C=2*c,b=function(){return(u+n+i+l+a+O+o+p+c)/fifteen},N=function(t){return t/((S+w+v+A+T+L+g+V+C)/mineralSelectValueX)},K=function(){return 23==mineralSelectValueX?N(m)+N(x)+N(F)+N(f)+N(h):6==mineralSelectValueX||12==mineralSelectValueX?N(s)+N(_)+N(f)+N(m)+N(x)+N(M)+N(d)+N(F)+N(h):(console.log("wrong select value!"),!1)},D=function(){return mineralSelectValueT/K()},E=function(){return 2*mineralSelectValueX*(1-D())},X=N(s),y=N(_),U=N(f),k=N(m),I=N(x),G=N(M),P=N(d),R=N(h),Y=N(F),j=N(r),q=X*D(),z=y*D(),B=U*D(),H=k*D(),J=I*D(),Q=G*D(),W=P*D(),Z=R*D(),tt=Y*D(),et=J-E(),ut=(b(),b(),b(),b(),b(),b(),b(),b(),b(),function(t){return 0===t?t:t.toFixed(2)});K()<=mineralSelectValueT?($(".main__input-cell--Fe2O3").slideUp("fast"),$(".main__output-cell--Fe2O3").slideUp("fast"),$("#Na2O-output").text(ut(X)),$("#K2O-output").text(ut(y)),$("#Al2O3-output").text(ut(U)),$("#MgO-output").text(ut(k)),$("#FeO-output").text(ut(I)),$("#CaO-output").text(ut(G)),$("#MnO-output").text(ut(P)),$("#TiO2-output").text(ut(R)),$("#SiO2-output").text(ut(Y))):K()>mineralSelectValueT&&E()>0?$(window).width()>=600?($(".main__input-cell--Fe2O3").slideDown("fast"),$(".main__output-cell--Fe2O3").slideDown("fast"),$("#Na2O-output").text(ut(q)),$("#K2O-output").text(ut(z)),$("#Al2O3-output").text(ut(B)),$("#MgO-output").text(ut(H)),$("#FeO-output").text(ut(et)),$("#Fe2O3-output").text(ut(E())),$("#CaO-output").text(ut(Q)),$("#MnO-output").text(ut(W)),$("#TiO2-output").text(ut(Z)),$("#SiO2-output").text(ut(tt))):($(".main__output-cell--Fe2O3").slideDown("fast"),$("#Na2O-output").text(ut(q)),$("#K2O-output").text(ut(z)),$("#Al2O3-output").text(ut(B)),$("#MgO-output").text(ut(H)),$("#FeO-output").text(ut(et)),$("#Fe2O3-output").text(ut(E())),$("#CaO-output").text(ut(Q)),$("#MnO-output").text(ut(W)),$("#TiO2-output").text(ut(Z)),$("#SiO2-output").text(ut(tt))):K()>mineralSelectValueT&&E()<0&&($(window).width()>=600?($(".main__input-cell--Fe2O3").slideDown("fast"),$(".main__output-cell--Fe2O3").slideDown("fast"),$("#Na2O-output").text(ut(q)),$("#K2O-output").text(ut(z)),$("#Al2O3-output").text(ut(U)),$("#MgO-output").text(ut(H)),$("#FeO-output").text(ut(j)),$("#Fe2O3-output").text(ut(et)),$("#CaO-output").text(ut(Q)),$("#MnO-output").text(ut(W)),$("#TiO2-output").text(ut(Z)),$("#SiO2-output").text(ut(tt))):($(".main__output-cell--Fe2O3").slideDown("fast"),$("#Na2O-output").text(ut(q)),$("#K2O-output").text(ut(z)),$("#Al2O3-output").text(ut(U)),$("#MgO-output").text(ut(H)),$("#FeO-output").text(ut(j)),$("#Fe2O3-output").text(ut(et)),$("#CaO-output").text(ut(Q)),$("#MnO-output").text(ut(W)),$("#TiO2-output").text(ut(Z)),$("#SiO2-output").text(ut(tt)))),$(window).width()<600&&$(".main__output-area").slideDown("fast",(function(){$("html, body").animate({scrollTop:$(document).height()},"fast")}))},mineralSelectValueX=+$("#mineral-select")[0].value,mineralSelectValueT=13;$("#mineral-select").on("change",(function(){23==(mineralSelectValueX=+$("#mineral-select")[0].value)?mineralSelectValueT=13:6==mineralSelectValueX?mineralSelectValueT=4:12==mineralSelectValueX&&(mineralSelectValueT=8)}));var clear=function(){Na2O=0,K2O=0,Al2O3=0,MgO=0,FeO=0,CaO=0,MnO=0,TiO2=0,SiO2=0,$(".main__input").val(""),$(".main__output").text(""),inputsArr.length=0,$(".main__input-cell--Fe2O3").slideUp("fast"),$(".main__output-cell--Fe2O3").slideUp("fast"),$(".button--calculate-ferrum").prop("disabled",!0),$(window).width()<600&&$(".main__output-area").slideUp("fast")};$(document).keydown((function(t){13==t.which&&inputsArr.length>=2&&$(".button--calculate-ferrum").addClass("button--calculate-ferrum-active")})),$(document).keyup((function(t){13==t.which&&inputsArr.length>=2&&($(".button--calculate-ferrum").removeClass("button--calculate-ferrum-active"),calculate())})),$(".button--calculate-ferrum").on("click",(function(){calculate()})),$(".button--clear").on("click",(function(){clear()})),$(".button--calculate-ferrum").prop("disabled",!0);var inputsArr=[];$(".main").on("input",(function(t){t.preventDefault(),(inputsArr=Array.prototype.filter.call($(".main__input"),t=>""!==t.value)).length<2?$(".button--calculate-ferrum").prop("disabled",!0):inputsArr.length>=2&&$(".button--calculate-ferrum").prop("disabled",!1)}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZlcnJ1bS5qcyJdLCJuYW1lcyI6WyIkIiwiaGlkZSIsIndpbmRvdyIsIndpZHRoIiwiTkEyT19NT0wiLCJLMk9fTU9MIiwiQUwyTzNfTU9MIiwiTUdPX01PTCIsIkZFT19NT0wiLCJDQU9fTU9MIiwiTU5PX01PTCIsIlRJTzJfTU9MIiwiU0lPMl9NT0wiLCJGRTJPM19NT0wiLCJLRVlDT0RFUyIsIkVOVEVSIiwiU1BBQ0UiLCJ0aGlydGVlbiIsImZpZnRlZW4iLCJ0d2VudHlUaHJlZSIsImZvdXJ0eVNpeCIsIk5hMk8iLCJLMk8iLCJBbDJPMyIsIk1nTyIsIkZlTyIsIkNhTyIsIk1uTyIsIlRpTzIiLCJTaU8yIiwib24iLCJ0aGlzIiwidmFsdWUiLCJGZTJPMyIsImNhbGN1bGF0ZSIsImdldE1vbFJhdGlvIiwiZWxlbSIsIm1vbCIsIkZlM19yYXRpbyIsIk5hMk9fTW9sUmF0aW8iLCJLMk9fTW9sUmF0aW8iLCJBbDJPM19Nb2xSYXRpbyIsIk1nT19Nb2xSYXRpbyIsIkZlT19Nb2xSYXRpbyIsIkNhT19Nb2xSYXRpbyIsIk1uT19Nb2xSYXRpbyIsIlRpTzJfTW9sUmF0aW8iLCJTaU8yX01vbFJhdGlvIiwiRmVPX25lZ01vbFJhdGlvIiwiTmEyT19jYXRpb25SYXRpbyIsIksyT19jYXRpb25SYXRpbyIsIkFsMk8zX2NhdGlvblJhdGlvIiwiTWdPX2NhdGlvblJhdGlvIiwiRmVPX2NhdGlvblJhdGlvIiwiQ2FPX2NhdGlvblJhdGlvIiwiTW5PX2NhdGlvblJhdGlvIiwiVGlPMl9jYXRpb25SYXRpbyIsIlNpTzJfY2F0aW9uUmF0aW8iLCJOYTJPX2FuaW9uUmF0aW8iLCJLMk9fYW5pb25SYXRpbyIsIkFsMk8zX2FuaW9uUmF0aW8iLCJNZ09fYW5pb25SYXRpbyIsIkZlT19hbmlvblJhdGlvIiwiQ2FPX2FuaW9uUmF0aW8iLCJNbk9fYW5pb25SYXRpbyIsIlRpTzJfYW5pb25SYXRpbyIsIlNpTzJfYW5pb25SYXRpbyIsImdldEFtcGhpYm9sZUZhY3RvciIsImdldEFwZnUiLCJtaW5lcmFsIiwibWluZXJhbFNlbGVjdFZhbHVlWCIsImdldEFwZnVTdW1tIiwiY29uc29sZSIsImxvZyIsImdldEFwZnVTdW1tRmFjdG9yIiwibWluZXJhbFNlbGVjdFZhbHVlVCIsImdldEZlcnJpY0ZhY3RvciIsIk5hMk9fYXBmdSIsIksyT19hcGZ1IiwiQWwyTzNfYXBmdSIsIk1nT19hcGZ1IiwiRmVPX2FwZnUiLCJDYU9fYXBmdSIsIk1uT19hcGZ1IiwiVGlPMl9hcGZ1IiwiU2lPMl9hcGZ1IiwiRmVPbmVnX2FwZnUiLCJOYTJPX2NvcnIiLCJLMk9fY29yciIsIkFsMk8zX2NvcnIiLCJNZ09fY29yciIsIkZlT19jb3JyIiwiQ2FPX2NvcnIiLCJNbk9fY29yciIsIlRpTzJfY29yciIsIlNpTzJfY29yciIsIkZlT19mZXJyaWMiLCJzZXRUb0ZpeGVkIiwidG9GaXhlZCIsInNsaWRlVXAiLCJ0ZXh0Iiwic2xpZGVEb3duIiwiYW5pbWF0ZSIsInNjcm9sbFRvcCIsImRvY3VtZW50IiwiaGVpZ2h0IiwiY2xlYXIiLCJ2YWwiLCJpbnB1dHNBcnIiLCJsZW5ndGgiLCJwcm9wIiwia2V5ZG93biIsImUiLCJ3aGljaCIsImFkZENsYXNzIiwia2V5dXAiLCJyZW1vdmVDbGFzcyIsInByZXZlbnREZWZhdWx0IiwiQXJyYXkiLCJwcm90b3R5cGUiLCJmaWx0ZXIiLCJjYWxsIiwiaXRlbSJdLCJtYXBwaW5ncyI6IkFBQUEsYUFHQUEsRUFBRSwyQkFBMkJDLE9BQzdCRCxFQUFFLDRCQUE0QkMsT0FDOUJELEVBQUUsNkJBQTZCQyxPQUczQkQsRUFBRUUsUUFBUUMsUUFBVSxLQUN0QkgsRUFBRSxzQkFBc0JDLE9BSTFCLElBQUlHLFNBQVcsT0FDWEMsUUFBVSxPQUNWQyxVQUFZLFFBQ1pDLFFBQVUsT0FDVkMsUUFBVSxPQUNWQyxRQUFVLE9BQ1ZDLFFBQVUsT0FDVkMsU0FBVyxPQUNYQyxTQUFXLE9BRVhDLFVBQVksUUFFaEIsTUFBTUMsU0FBVyxDQUNmQyxNQUFPLEdBQ1BDLE1BQU8sSUFJVCxJQUFJ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QUssWUFBWSxHQUN2Q0YsVUFBVUMsUUFBVSxHQUM3QjdHLEVBQUUsNkJBQTZCOEcsS0FBSyxZQUFZIiwiZmlsZSI6ImZlcnJ1bS5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuLy8gdmlzaWJpbGl0eSBzZXR0aW5nc1xuJCgnLmRlc2NyaXB0aW9uLXRleHQtLW1vcmUnKS5oaWRlKCk7XG4kKCcubWFpbl9faW5wdXQtY2VsbC0tRmUyTzMnKS5oaWRlKCk7XG4kKCcubWFpbl9fb3V0cHV0LWNlbGwtLUZlMk8zJykuaGlkZSgpO1xuXG4vLyBtZWRpYSBxdWVyeXMgb3B0aW9uc1xuaWYgKCQod2luZG93KS53aWR0aCgpIDwgNjAwKSB7XG4gICQoJy5tYWluX19vdXRwdXQtYXJlYScpLmhpZGUoKTtcbn1cblxuLy8gQ09OU1RTXG52YXIgTkEyT19NT0wgPSA2MS45Nzk7XG52YXIgSzJPX01PTCA9IDk0LjE5NjtcbnZhciBBTDJPM19NT0wgPSAxMDEuOTYxO1xudmFyIE1HT19NT0wgPSA0MC4zMDQ7XG52YXIgRkVPX01PTCA9IDcxLjg0NjtcbnZhciBDQU9fTU9MID0gNTYuMDc3O1xudmFyIE1OT19NT0wgPSA3MC45Mzg7XG52YXIgVElPMl9NT0wgPSA3OS44Nzk7XG52YXIgU0lPMl9NT0wgPSA2MC4wODQ7XG4vLyB2YXIgQ0xfTU9MID0gMzUuNDUzO1xudmFyIEZFMk8zX01PTCA9IDE1OS42OTI7XG5cbmNvbnN0IEtFWUNPREVTID0ge1xuICBFTlRFUjogMTMsXG4gIFNQQUNFOiAzMixcbn07XG5cbi8vIG1hZ2ljIGRpdmlzb3IgbnVtYmVyc1xudmFyIHRoaXJ0ZWVuID0gMTM7IC8vIG1pbmVyYWxTZWxlY3RWYWx1ZVRcbnZhciBmaWZ0ZWVuID0gMTU7IC8vID8/P1xudmFyIHR3ZW50eVRocmVlID0gMjM7IC8vIG1pbmVyYWxTZWxlY3RWYWx1ZVhcbnZhciBmb3VydHlTaXggPSA0NjsgLy8gMiAqIG1pbmVyYWxTZWxlY3RWYWx1ZVhcblxuLy8gc2V0dGluZyBlbGVtZW50IHZhbHVlc1xudmFyIE5hMk8gPSAwLCBLMk8gPSAwLCBBbDJPMyA9IDAsIE1nTyA9IDAsIEZlTyA9IDAsIENhTyA9IDAsIE1uTyA9IDAsIFRpTzIgPSAwLCBTaU8yID0gMDtcbi8vIENsID0gMDtcblxuLy8gZ2V0dGluZyBpbnB1dHMgdmFsdWVzXG4kKCcjTmEyTy1pbnB1dCcpLm9uKCdpbnB1dCcsIGZ1bmN0aW9uKCkge1xuICBOYTJPID0gdGhpcy52YWx1ZTtcbn0pO1xuJCgnI0syTy1pbnB1dCcpLm9uKCdpbnB1dCcsIGZ1bmN0aW9uKCkge1xuICBLMk8gPSB0aGlzLnZhbHVlO1xufSk7XG4kKCcjQWwyTzMtaW5wdXQnKS5vbignaW5wdXQnLCBmdW5jdGlvbigpIHtcbiAgQWwyTzMgPSB0aGlzLnZhbHVlO1xufSk7XG4kKCcjTWdPLWlucHV0Jykub24oJ2lucHV0JywgZnVuY3Rpb24oKSB7XG4gIE1nTyA9IHRoaXMudmFsdWU7XG59KTtcbiQoJyNGZU8taW5wdXQnKS5vbignaW5wdXQnLCBmdW5jdGlvbigpIHtcbiAgRmVPID0gdGhpcy52YWx1ZTtcbn0pO1xuJCgnI0ZlMk8zLWlucHV0Jykub24oJ2lucHV0JywgZnVuY3Rpb24oKSB7XG4gIEZlMk8zID0gdGhpcy52YWx1ZTtcbn0pO1xuJCgnI0NhTy1pbnB1dCcpLm9uKCdpbnB1dCcsIGZ1bmN0aW9uKCkge1xuICBDYU8gPSB0aGlzLnZhbHVlO1xufSk7XG4kKCcjTW5PLWlucHV0Jykub24oJ2lucHV0JywgZnVuY3Rpb24oKSB7XG4gIE1uTyA9IHRoaXMudmFsdWU7XG59KTtcbiQoJyNUaU8yLWlucHV0Jykub24oJ2lucHV0JywgZnVuY3Rpb24oKSB7XG4gIFRpTzIgPSB0aGlzLnZhbHVlO1xufSk7XG4kKCcjU2lPMi1pbnB1dCcpLm9uKCdpbnB1dCcsIGZ1bmN0aW9uKCkge1xuICBTaU8yID0gdGhpcy52YWx1ZTtcbn0pO1xuLy8gJCgnI0NsLWlucHV0Jykub24oJ2lucHV0JywgZnVuY3Rpb24oKSB7XG4vLyAgIENsID0gdGhpcy52YWx1ZTtcbi8vIH0pO1xuXG4vL2NhbGN1bGF0ZSBmdW5jdGlvblxudmFyIGNhbGN1bGF0ZSA9IGZ1bmN0aW9uICgpIHtcblxuXG4gIHZhciBnZXRNb2xSYXRpbyA9IGZ1bmN0aW9uIChlbGVtLCBtb2wpIHtcbiAgICByZXR1cm4gZWxlbSAvIG1vbDtcbiAgfVxuXG5cbiAgdmFyIEZlM19yYXRpbyA9IChGZU8gKiAxLjExMTMpOyAvLyBhbGwgaXJvbiBpcyBGZTJPM1xuXG4gIC8vIG1vbCByYXRpb3NcbiAgdmFyIE5hMk9fTW9sUmF0aW8gPSBnZXRNb2xSYXRpbyhOYTJPLCBOQTJPX01PTCk7XG4gIHZhciBLMk9fTW9sUmF0aW8gPSBnZXRNb2xSYXRpbyhLMk8sIEsyT19NT0wpO1xuICB2YXIgQWwyTzNfTW9sUmF0aW8gPSBnZXRNb2xSYXRpbyhBbDJPMywgQUwyTzNfTU9MKTtcbiAgdmFyIE1nT19Nb2xSYXRpbyA9IGdldE1vbFJhdGlvKE1nTywgTUdPX01PTCk7XG4gIHZhciBGZU9fTW9sUmF0aW8gPSBnZXRNb2xSYXRpbyhGZU8sIEZFT19NT0wpO1xuICB2YXIgQ2FPX01vbFJhdGlvID0gZ2V0TW9sUmF0aW8oQ2FPLCBDQU9fTU9MKTtcbiAgdmFyIE1uT19Nb2xSYXRpbyA9IGdldE1vbFJhdGlvKE1uTywgTU5PX01PTCk7XG4gIHZhciBUaU8yX01vbFJhdGlvID0gZ2V0TW9sUmF0aW8oVGlPMiwgVElPMl9NT0wpO1xuICB2YXIgU2lPMl9Nb2xSYXRpbyA9IGdldE1vbFJhdGlvKFNpTzIsIFNJTzJfTU9MKTtcbiAgLy8gdmFyIENsX01vbFJhdGlvID0gZ2V0TW9sUmF0aW8oQ2wsIENMX01PTCk7XG5cbiAgdmFyIEZlT19uZWdNb2xSYXRpbyA9IEZlM19yYXRpbyAvIEZFMk8zX01PTDtcblxuICAvLyBjYXRpb24gcmF0aW9zXG4gIHZhciBOYTJPX2NhdGlvblJhdGlvID0gTmEyT19Nb2xSYXRpbyAqIDI7XG4gIHZhciBLMk9fY2F0aW9uUmF0aW8gPSBLMk9fTW9sUmF0aW8gKiAyO1xuICB2YXIgQWwyTzNfY2F0aW9uUmF0aW8gPSBBbDJPM19Nb2xSYXRpbyAqIDI7XG4gIHZhciBNZ09fY2F0aW9uUmF0aW8gPSBNZ09fTW9sUmF0aW87XG4gIHZhciBGZU9fY2F0aW9uUmF0aW8gPSBGZU9fTW9sUmF0aW87XG4gIHZhciBDYU9fY2F0aW9uUmF0aW8gPSBDYU9fTW9sUmF0aW87XG4gIHZhciBNbk9fY2F0aW9uUmF0aW8gPSBNbk9fTW9sUmF0aW87XG4gIHZhciBUaU8yX2NhdGlvblJhdGlvID0gVGlPMl9Nb2xSYXRpbztcbiAgdmFyIFNpTzJfY2F0aW9uUmF0aW8gPSBTaU8yX01vbFJhdGlvO1xuICAvLyB2YXIgQ2xfY2F0aW9uUmF0aW8gPSBDbF9Nb2xSYXRpbztcblxuICB2YXIgRmVPX25lZ0NhdGlvbiA9IEZlT19uZWdNb2xSYXRpbyAqIDI7XG5cbiAgLy8gYW5pb24gcmF0aW9zXG4gIHZhciBOYTJPX2FuaW9uUmF0aW8gPSBOYTJPX01vbFJhdGlvO1xuICB2YXIgSzJPX2FuaW9uUmF0aW8gPSBLMk9fTW9sUmF0aW87XG4gIHZhciBBbDJPM19hbmlvblJhdGlvID0gQWwyTzNfTW9sUmF0aW8gKiAzO1xuICB2YXIgTWdPX2FuaW9uUmF0aW8gPSBNZ09fTW9sUmF0aW87XG4gIHZhciBGZU9fYW5pb25SYXRpbyA9IEZlT19Nb2xSYXRpbztcbiAgdmFyIENhT19hbmlvblJhdGlvID0gQ2FPX01vbFJhdGlvO1xuICB2YXIgTW5PX2FuaW9uUmF0aW8gPSBNbk9fTW9sUmF0aW87XG4gIHZhciBUaU8yX2FuaW9uUmF0aW8gPSBUaU8yX01vbFJhdGlvICogMjtcbiAgdmFyIFNpTzJfYW5pb25SYXRpbyA9IFNpTzJfTW9sUmF0aW8gKiAyO1xuICAvLyB2YXIgQ2xfYW5pb25SYXRpbyA9IENsX01vbFJhdGlvO1xuXG4gIHZhciBGZU9fbmVnQW5pb24gPSBGZU9fbmVnTW9sUmF0aW8gKiAzO1xuXG4gIC8vY2FsYyB1c2luZyBhbmlvbiBzdW1zXG4gIHZhciBnZXRBbmlvblJhdGlvRmFjdG9yID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoTmEyT19hbmlvblJhdGlvICsgSzJPX2FuaW9uUmF0aW8gKyBBbDJPM19hbmlvblJhdGlvICsgTWdPX2FuaW9uUmF0aW8gKyBGZU9fYW5pb25SYXRpbyArIENhT19hbmlvblJhdGlvICsgTW5PX2FuaW9uUmF0aW8gKyBUaU8yX2FuaW9uUmF0aW8gKyBTaU8yX2FuaW9uUmF0aW8pIC8gbWluZXJhbFNlbGVjdFZhbHVlWDsgLy8gb3JpZ2luYWxseSAyM1xuICAgIC8vICArIENsX2FuaW9uUmF0aW9cbiAgfVxuXG4gIC8vY2FsYyB1c2luZyBhbmlvbiBzdW1zIHdpdGggYWxsIGFyaW9uIEZlMk8zXG4gIHZhciBnZXRBbmlvbkZlck5lZ1JhdGlvID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoTmEyT19hbmlvblJhdGlvICsgSzJPX2FuaW9uUmF0aW8gKyBBbDJPM19hbmlvblJhdGlvICsgTWdPX2FuaW9uUmF0aW8gKyBGZU9fbmVnQW5pb24gKyBDYU9fYW5pb25SYXRpbyArIE1uT19hbmlvblJhdGlvICsgVGlPMl9hbmlvblJhdGlvICsgU2lPMl9hbmlvblJhdGlvKSAvIG1pbmVyYWxTZWxlY3RWYWx1ZVg7IC8vIG9yaWdpbmFsbHkgMjNcbiAgICAvLyAgKyBDbF9hbmlvblJhdGlvXG4gIH1cblxuICAvL2NhbGMgdXNpbmcgY2F0aW9uIHN1bXNcbiAgdmFyIGdldEFtcGhpYm9sZUZhY3RvciA9ICBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgYW1waGlib2xlRmFjdG9yID0gKE5hMk9fTW9sUmF0aW8gKyBLMk9fTW9sUmF0aW8gKyBBbDJPM19Nb2xSYXRpbyArIE1nT19Nb2xSYXRpbyArIEZlT19Nb2xSYXRpbyArIENhT19Nb2xSYXRpbyArIE1uT19Nb2xSYXRpbyArIFRpTzJfTW9sUmF0aW8gKyBTaU8yX01vbFJhdGlvKSAvIGZpZnRlZW47XG4gICAgLy8gICsgQ2xfTW9sUmF0aW9cblxuICAgIHJldHVybiBhbXBoaWJvbGVGYWN0b3I7XG4gIH1cblxuICB2YXIgZ2V0QXBmdSA9IGZ1bmN0aW9uIChtaW5lcmFsKSB7XG4gICAgcmV0dXJuIG1pbmVyYWwgLyBnZXRBbmlvblJhdGlvRmFjdG9yKCk7XG4gIH1cblxuICB2YXIgRmVPX25lZ0FwZnUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIEZlT19uZWdDYXRpb24gLyBnZXRBbmlvbkZlck5lZ1JhdGlvKCk7XG4gIH1cblxuICAvLyBSJ3MgUyBmdW5jdGlvblxuICB2YXIgZ2V0QXBmdVN1bW0gPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKG1pbmVyYWxTZWxlY3RWYWx1ZVggPT0gMjMpIHtcbiAgICAgIHJldHVybiBnZXRBcGZ1KE1nT19jYXRpb25SYXRpbykgK1xuICAgICAgZ2V0QXBmdShGZU9fY2F0aW9uUmF0aW8pICtcbiAgICAgIGdldEFwZnUoU2lPMl9jYXRpb25SYXRpbykgK1xuICAgICAgZ2V0QXBmdShBbDJPM19jYXRpb25SYXRpbykgK1xuICAgICAgZ2V0QXBmdShUaU8yX2NhdGlvblJhdGlvKTtcbiAgICB9IGVsc2UgaWYgKG1pbmVyYWxTZWxlY3RWYWx1ZVggPT0gNiB8fCBtaW5lcmFsU2VsZWN0VmFsdWVYID09IDEyKSB7XG4gICAgICByZXR1cm4gZ2V0QXBmdShOYTJPX2NhdGlvblJhdGlvKSArXG4gICAgICBnZXRBcGZ1KEsyT19jYXRpb25SYXRpbykgK1xuICAgICAgZ2V0QXBmdShBbDJPM19jYXRpb25SYXRpbykgK1xuICAgICAgZ2V0QXBmdShNZ09fY2F0aW9uUmF0aW8pICtcbiAgICAgIGdldEFwZnUoRmVPX2NhdGlvblJhdGlvKSArXG4gICAgICBnZXRBcGZ1KENhT19jYXRpb25SYXRpbykgK1xuICAgICAgZ2V0QXBmdShNbk9fY2F0aW9uUmF0aW8pICtcbiAgICAgIGdldEFwZnUoU2lPMl9jYXRpb25SYXRpbykgK1xuICAgICAgZ2V0QXBmdShUaU8yX2NhdGlvblJhdGlvKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coJ3dyb25nIHNlbGVjdCB2YWx1ZSEnKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICB2YXIgZ2V0QXBmdVN1bW1GYWN0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG1pbmVyYWxTZWxlY3RWYWx1ZVQgLyBnZXRBcGZ1U3VtbSgpOyAvL29yaWdpbmFsbHkgMTNcbiAgfVxuXG4gIC8vIFIncyBGIGZ1bmN0aW9uXG4gIHZhciBnZXRGZXJyaWNGYWN0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIDIgKiBtaW5lcmFsU2VsZWN0VmFsdWVYICogKDEgLSBnZXRBcGZ1U3VtbUZhY3RvcigpKTsgLy8gb3JpZ2luYWxseSA0NlxuICB9XG5cbiAgLy8gYXBmdVxuICB2YXIgTmEyT19hcGZ1ID0gZ2V0QXBmdShOYTJPX2NhdGlvblJhdGlvKTtcbiAgdmFyIEsyT19hcGZ1ID0gZ2V0QXBmdShLMk9fY2F0aW9uUmF0aW8pO1xuICB2YXIgQWwyTzNfYXBmdSA9IGdldEFwZnUoQWwyTzNfY2F0aW9uUmF0aW8pO1xuICB2YXIgTWdPX2FwZnUgPSBnZXRBcGZ1KE1nT19jYXRpb25SYXRpbyk7XG4gIHZhciBGZU9fYXBmdSA9IGdldEFwZnUoRmVPX2NhdGlvblJhdGlvKTtcbiAgdmFyIENhT19hcGZ1ID0gZ2V0QXBmdShDYU9fY2F0aW9uUmF0aW8pO1xuICB2YXIgTW5PX2FwZnUgPSBnZXRBcGZ1KE1uT19jYXRpb25SYXRpbyk7XG4gIHZhciBUaU8yX2FwZnUgPSBnZXRBcGZ1KFRpTzJfY2F0aW9uUmF0aW8pO1xuICB2YXIgU2lPMl9hcGZ1ID0gZ2V0QXBmdShTaU8yX2NhdGlvblJhdGlvKTtcbiAgLy8gdmFyIENsX2FwZnUgPSBnZXRBcGZ1KENsX2NhdGlvblJhdGlvKTtcblxuICB2YXIgRmVPbmVnX2FwZnUgPSBnZXRBcGZ1KEZlT19uZWdNb2xSYXRpbyk7XG5cbiAgLy8gY29ycmVjdGVkXG4gIHZhciBOYTJPX2NvcnIgPSBOYTJPX2FwZnUgKiBnZXRBcGZ1U3VtbUZhY3RvcigpO1xuICB2YXIgSzJPX2NvcnIgPSBLMk9fYXBmdSAqIGdldEFwZnVTdW1tRmFjdG9yKCk7XG4gIHZhciBBbDJPM19jb3JyID0gQWwyTzNfYXBmdSAqIGdldEFwZnVTdW1tRmFjdG9yKCk7XG4gIHZhciBNZ09fY29yciA9IE1nT19hcGZ1ICogZ2V0QXBmdVN1bW1GYWN0b3IoKTtcbiAgdmFyIEZlT19jb3JyID0gRmVPX2FwZnUgKiBnZXRBcGZ1U3VtbUZhY3RvcigpO1xuICB2YXIgQ2FPX2NvcnIgPSBDYU9fYXBmdSAqIGdldEFwZnVTdW1tRmFjdG9yKCk7XG4gIHZhciBNbk9fY29yciA9IE1uT19hcGZ1ICogZ2V0QXBmdVN1bW1GYWN0b3IoKTtcbiAgdmFyIFRpTzJfY29yciA9IFRpTzJfYXBmdSAqIGdldEFwZnVTdW1tRmFjdG9yKCk7XG4gIHZhciBTaU8yX2NvcnIgPSBTaU8yX2FwZnUgKiBnZXRBcGZ1U3VtbUZhY3RvcigpO1xuICAvLyB2YXIgQ2xfY29yciA9IENsX2FwZnUgKiBnZXRBcGZ1U3VtbUZhY3RvcigpO1xuXG4gIC8vIFIncyBmZXJyaWNfbWluZXJhbF8xJG5lZ2F0aXZlX2lyb25fY2hlY2sgZnVuY3Rpb25cbiAgdmFyIEZlT19mZXJyaWMgPSBGZU9fY29yciAtIGdldEZlcnJpY0ZhY3RvcigpO1xuXG4gIC8vIGZpbmFsIHZhbHVlcyBmb3Igc3RhZ2Ugb25lIChhbXBoaWJvbGUpXG4gIHZhciBOYTJPX2ZpbmFsID0gTmEyT19Nb2xSYXRpbyAvIGdldEFtcGhpYm9sZUZhY3RvcigpO1xuICB2YXIgSzJPX2ZpbmFsID0gSzJPX01vbFJhdGlvIC8gZ2V0QW1waGlib2xlRmFjdG9yKCk7XG4gIHZhciBBbDJPM19maW5hbCA9IEFsMk8zX01vbFJhdGlvIC8gZ2V0QW1waGlib2xlRmFjdG9yKCk7XG4gIHZhciBNZ09fZmluYWwgPSBNZ09fTW9sUmF0aW8gLyBnZXRBbXBoaWJvbGVGYWN0b3IoKTtcbiAgdmFyIEZlT19maW5hbCA9IEZlT19Nb2xSYXRpbyAvIGdldEFtcGhpYm9sZUZhY3RvcigpO1xuICB2YXIgQ2FPX2ZpbmFsID0gQ2FPX01vbFJhdGlvIC8gZ2V0QW1waGlib2xlRmFjdG9yKCk7XG4gIHZhciBNbk9fZmluYWwgPSBNbk9fTW9sUmF0aW8gLyBnZXRBbXBoaWJvbGVGYWN0b3IoKTtcbiAgdmFyIFRpTzJfZmluYWwgPSBUaU8yX01vbFJhdGlvIC8gZ2V0QW1waGlib2xlRmFjdG9yKCk7XG4gIHZhciBTaU8yX2ZpbmFsID0gU2lPMl9Nb2xSYXRpbyAvIGdldEFtcGhpYm9sZUZhY3RvcigpO1xuICAvLyB2YXIgQ2xfZmluYWwgPSBDbF9Nb2xSYXRpbyAvIGdldEFtcGhpYm9sZUZhY3RvcigpO1xuXG4gIHZhciBzZXRUb0ZpeGVkID0gZnVuY3Rpb24gKGVsZW0pIHtcbiAgICBpZiAoZWxlbSA9PT0gMCkge1xuICAgICAgcmV0dXJuIGVsZW07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBlbGVtLnRvRml4ZWQoMik7XG4gICAgfVxuICB9O1xuXG4gIC8vb3V0cHV0IHZpc2liaWxpdHlcbiAgaWYgKGdldEFwZnVTdW1tKCkgPD0gbWluZXJhbFNlbGVjdFZhbHVlVCkgIHtcblxuICAgICQoJy5tYWluX19pbnB1dC1jZWxsLS1GZTJPMycpLnNsaWRlVXAoJ2Zhc3QnKTtcbiAgICAkKCcubWFpbl9fb3V0cHV0LWNlbGwtLUZlMk8zJykuc2xpZGVVcCgnZmFzdCcpO1xuXG4gICAgJCgnI05hMk8tb3V0cHV0JykudGV4dChzZXRUb0ZpeGVkKE5hMk9fYXBmdSkpO1xuICAgICQoJyNLMk8tb3V0cHV0JykudGV4dChzZXRUb0ZpeGVkKEsyT19hcGZ1KSk7XG4gICAgJCgnI0FsMk8zLW91dHB1dCcpLnRleHQoc2V0VG9GaXhlZChBbDJPM19hcGZ1KSk7XG4gICAgJCgnI01nTy1vdXRwdXQnKS50ZXh0KHNldFRvRml4ZWQoTWdPX2FwZnUpKTtcbiAgICAkKCcjRmVPLW91dHB1dCcpLnRleHQoc2V0VG9GaXhlZChGZU9fYXBmdSkpO1xuICAgIC8vICQoJyNGZTJPMy1vdXRwdXQnKS50ZXh0KHNldFRvRml4ZWQoRmUyTzNfYXBmdSkpO1xuICAgICQoJyNDYU8tb3V0cHV0JykudGV4dChzZXRUb0ZpeGVkKENhT19hcGZ1KSk7XG4gICAgJCgnI01uTy1vdXRwdXQnKS50ZXh0KHNldFRvRml4ZWQoTW5PX2FwZnUpKTtcbiAgICAkKCcjVGlPMi1vdXRwdXQnKS50ZXh0KHNldFRvRml4ZWQoVGlPMl9hcGZ1KSk7XG4gICAgJCgnI1NpTzItb3V0cHV0JykudGV4dChzZXRUb0ZpeGVkKFNpTzJfYXBmdSkpO1xuICAgIC8vICQoJyNDbC1vdXRwdXQnKS50ZXh0KHNldFRvRml4ZWQoQ2xfYXBmdSkpO1xuXG4gIH0gZWxzZSBpZiAoZ2V0QXBmdVN1bW0oKSA+IG1pbmVyYWxTZWxlY3RWYWx1ZVQgJiYgZ2V0RmVycmljRmFjdG9yKCkgPiAwKSB7ICAvL2dldEZlcnJpY0ZhY3RvcigpXG5cbiAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPj0gNjAwKSB7XG4gICAgICAkKCcubWFpbl9faW5wdXQtY2VsbC0tRmUyTzMnKS5zbGlkZURvd24oJ2Zhc3QnKTtcbiAgICAgICQoJy5tYWluX19vdXRwdXQtY2VsbC0tRmUyTzMnKS5zbGlkZURvd24oJ2Zhc3QnKTtcblxuICAgICAgJCgnI05hMk8tb3V0cHV0JykudGV4dChzZXRUb0ZpeGVkKE5hMk9fY29ycikpO1xuICAgICAgJCgnI0syTy1vdXRwdXQnKS50ZXh0KHNldFRvRml4ZWQoSzJPX2NvcnIpKTtcbiAgICAgICQoJyNBbDJPMy1vdXRwdXQnKS50ZXh0KHNldFRvRml4ZWQoQWwyTzNfY29ycikpOyAvL1xuICAgICAgJCgnI01nTy1vdXRwdXQnKS50ZXh0KHNldFRvRml4ZWQoTWdPX2NvcnIpKTtcbiAgICAgICQoJyNGZU8tb3V0cHV0JykudGV4dChzZXRUb0ZpeGVkKEZlT19mZXJyaWMpKTtcbiAgICAgICQoJyNGZTJPMy1vdXRwdXQnKS50ZXh0KHNldFRvRml4ZWQoZ2V0RmVycmljRmFjdG9yKCkpKTtcbiAgICAgICQoJyNDYU8tb3V0cHV0JykudGV4dChzZXRUb0ZpeGVkKENhT19jb3JyKSk7XG4gICAgICAkKCcjTW5PLW91dHB1dCcpLnRleHQoc2V0VG9GaXhlZChNbk9fY29ycikpO1xuICAgICAgJCgnI1RpTzItb3V0cHV0JykudGV4dChzZXRUb0ZpeGVkKFRpTzJfY29ycikpO1xuICAgICAgJCgnI1NpTzItb3V0cHV0JykudGV4dChzZXRUb0ZpeGVkKFNpTzJfY29ycikpO1xuICAgICAgLy8gJCgnI0NsLW91dHB1dCcpLnRleHQoc2V0VG9GaXhlZChDbF9jb3JyKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vICQoJy5tYWluX19pbnB1dC1jZWxsLS1GZTJPMycpLnNsaWRlRG93bignZmFzdCcpO1xuICAgICAgJCgnLm1haW5fX291dHB1dC1jZWxsLS1GZTJPMycpLnNsaWRlRG93bignZmFzdCcpO1xuXG4gICAgICAkKCcjTmEyTy1vdXRwdXQnKS50ZXh0KHNldFRvRml4ZWQoTmEyT19jb3JyKSk7XG4gICAgICAkKCcjSzJPLW91dHB1dCcpLnRleHQoc2V0VG9GaXhlZChLMk9fY29ycikpO1xuICAgICAgJCgnI0FsMk8zLW91dHB1dCcpLnRleHQoc2V0VG9GaXhlZChBbDJPM19jb3JyKSk7IC8vXG4gICAgICAkKCcjTWdPLW91dHB1dCcpLnRleHQoc2V0VG9GaXhlZChNZ09fY29ycikpO1xuICAgICAgJCgnI0ZlTy1vdXRwdXQnKS50ZXh0KHNldFRvRml4ZWQoRmVPX2ZlcnJpYykpO1xuICAgICAgJCgnI0ZlMk8zLW91dHB1dCcpLnRleHQoc2V0VG9GaXhlZChnZXRGZXJyaWNGYWN0b3IoKSkpO1xuICAgICAgJCgnI0NhTy1vdXRwdXQnKS50ZXh0KHNldFRvRml4ZWQoQ2FPX2NvcnIpKTtcbiAgICAgICQoJyNNbk8tb3V0cHV0JykudGV4dChzZXRUb0ZpeGVkKE1uT19jb3JyKSk7XG4gICAgICAkKCcjVGlPMi1vdXRwdXQnKS50ZXh0KHNldFRvRml4ZWQoVGlPMl9jb3JyKSk7XG4gICAgICAkKCcjU2lPMi1vdXRwdXQnKS50ZXh0KHNldFRvRml4ZWQoU2lPMl9jb3JyKSk7XG4gICAgICAvLyAkKCcjQ2wtb3V0cHV0JykudGV4dChzZXRUb0ZpeGVkKENsX2NvcnIpKTtcbiAgICB9XG5cbiAgfSBlbHNlIGlmIChnZXRBcGZ1U3VtbSgpID4gbWluZXJhbFNlbGVjdFZhbHVlVCAmJiBnZXRGZXJyaWNGYWN0b3IoKSA8IDApIHsgLy9GZU9fZmVycmljXG5cbiAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPj0gNjAwKSB7XG4gICAgICAkKCcubWFpbl9faW5wdXQtY2VsbC0tRmUyTzMnKS5zbGlkZURvd24oJ2Zhc3QnKTtcbiAgICAgICQoJy5tYWluX19vdXRwdXQtY2VsbC0tRmUyTzMnKS5zbGlkZURvd24oJ2Zhc3QnKTtcblxuICAgICAgJCgnI05hMk8tb3V0cHV0JykudGV4dChzZXRUb0ZpeGVkKE5hMk9fY29ycikpO1xuICAgICAgJCgnI0syTy1vdXRwdXQnKS50ZXh0KHNldFRvRml4ZWQoSzJPX2NvcnIpKTtcbiAgICAgICQoJyNBbDJPMy1vdXRwdXQnKS50ZXh0KHNldFRvRml4ZWQoQWwyTzNfYXBmdSkpO1xuICAgICAgJCgnI01nTy1vdXRwdXQnKS50ZXh0KHNldFRvRml4ZWQoTWdPX2NvcnIpKTtcbiAgICAgICQoJyNGZU8tb3V0cHV0JykudGV4dChzZXRUb0ZpeGVkKEZlT25lZ19hcGZ1KSk7XG4gICAgICAkKCcjRmUyTzMtb3V0cHV0JykudGV4dChzZXRUb0ZpeGVkKEZlT19mZXJyaWMpKTtcbiAgICAgICQoJyNDYU8tb3V0cHV0JykudGV4dChzZXRUb0ZpeGVkKENhT19jb3JyKSk7XG4gICAgICAkKCcjTW5PLW91dHB1dCcpLnRleHQoc2V0VG9GaXhlZChNbk9fY29ycikpO1xuICAgICAgJCgnI1RpTzItb3V0cHV0JykudGV4dChzZXRUb0ZpeGVkKFRpTzJfY29ycikpO1xuICAgICAgJCgnI1NpTzItb3V0cHV0JykudGV4dChzZXRUb0ZpeGVkKFNpTzJfY29ycikpO1xuICAgICAgLy8gJCgnI0NsLW91dHB1dCcpLnRleHQoc2V0VG9GaXhlZChDbF9jb3JyKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vICQoJy5tYWluX19pbnB1dC1jZWxsLS1GZTJPMycpLnNsaWRlRG93bignZmFzdCcpO1xuICAgICAgJCgnLm1haW5fX291dHB1dC1jZWxsLS1GZTJPMycpLnNsaWRlRG93bignZmFzdCcpO1xuXG4gICAgICAkKCcjTmEyTy1vdXRwdXQnKS50ZXh0KHNldFRvRml4ZWQoTmEyT19jb3JyKSk7XG4gICAgICAkKCcjSzJPLW91dHB1dCcpLnRleHQoc2V0VG9GaXhlZChLMk9fY29ycikpO1xuICAgICAgJCgnI0FsMk8zLW91dHB1dCcpLnRleHQoc2V0VG9GaXhlZChBbDJPM19hcGZ1KSk7XG4gICAgICAkKCcjTWdPLW91dHB1dCcpLnRleHQoc2V0VG9GaXhlZChNZ09fY29ycikpO1xuICAgICAgJCgnI0ZlTy1vdXRwdXQnKS50ZXh0KHNldFRvRml4ZWQoRmVPbmVnX2FwZnUpKTtcbiAgICAgICQoJyNGZTJPMy1vdXRwdXQnKS50ZXh0KHNldFRvRml4ZWQoRmVPX2ZlcnJpYykpO1xuICAgICAgJCgnI0NhTy1vdXRwdXQnKS50ZXh0KHNldFRvRml4ZWQoQ2FPX2NvcnIpKTtcbiAgICAgICQoJyNNbk8tb3V0cHV0JykudGV4dChzZXRUb0ZpeGVkKE1uT19jb3JyKSk7XG4gICAgICAkKCcjVGlPMi1vdXRwdXQnKS50ZXh0KHNldFRvRml4ZWQoVGlPMl9jb3JyKSk7XG4gICAgICAkKCcjU2lPMi1vdXRwdXQnKS50ZXh0KHNldFRvRml4ZWQoU2lPMl9jb3JyKSk7XG4gICAgICAvLyAkKCcjQ2wtb3V0cHV0JykudGV4dChzZXRUb0ZpeGVkKENsX2NvcnIpKTtcbiAgICB9XG4gIH1cblxuICAvL21lZGlhIHNldHRpbmdzXG4gIGlmICgkKHdpbmRvdykud2lkdGgoKSA8IDYwMCkge1xuICAgICQoJy5tYWluX19vdXRwdXQtYXJlYScpLnNsaWRlRG93bignZmFzdCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHsgc2Nyb2xsVG9wOiAkKGRvY3VtZW50KS5oZWlnaHQoKSB9LCAnZmFzdCcpO1xuICAgIH0pO1xuICB9XG5cbn07XG5cbi8vIGdldHRpbmcgPHNlbGVjdD4gdmFsdWVcbnZhciBtaW5lcmFsU2VsZWN0VmFsdWVYID0gKyQoJyNtaW5lcmFsLXNlbGVjdCcpWzBdLnZhbHVlO1xudmFyIG1pbmVyYWxTZWxlY3RWYWx1ZVQgPSAxMztcbiQoJyNtaW5lcmFsLXNlbGVjdCcpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcbiAgbWluZXJhbFNlbGVjdFZhbHVlWCA9ICskKCcjbWluZXJhbC1zZWxlY3QnKVswXS52YWx1ZTtcbiAgaWYgKG1pbmVyYWxTZWxlY3RWYWx1ZVggPT0gMjMpIHsgLy9hbXBoaWJvbGVcbiAgICBtaW5lcmFsU2VsZWN0VmFsdWVUID0gMTM7XG4gIH0gZWxzZSBpZiAobWluZXJhbFNlbGVjdFZhbHVlWCA9PSA2KSB7IC8vcHlyb3hpbmVcbiAgICBtaW5lcmFsU2VsZWN0VmFsdWVUID0gNDtcbiAgfSBlbHNlIGlmIChtaW5lcmFsU2VsZWN0VmFsdWVYID09IDEyKSB7IC8vZ2FybmV0XG4gICAgbWluZXJhbFNlbGVjdFZhbHVlVCA9IDg7XG4gIH1cbn0pXG5cbnZhciBjbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgTmEyTyA9IDA7XG4gIEsyTyA9IDA7XG4gIEFsMk8zID0gMDtcbiAgTWdPID0gMDtcbiAgRmVPID0gMDtcbiAgLy8gRmUyTzMgPSAwO1xuICBDYU8gPSAwO1xuICBNbk8gPSAwO1xuICBUaU8yID0gMDtcbiAgU2lPMiA9IDA7XG4gIC8vIENsID0gMDtcbiAgJCgnLm1haW5fX2lucHV0JykudmFsKCcnKTtcbiAgJCgnLm1haW5fX291dHB1dCcpLnRleHQoJycpO1xuICBpbnB1dHNBcnIubGVuZ3RoID0gMDtcblxuICAkKCcubWFpbl9faW5wdXQtY2VsbC0tRmUyTzMnKS5zbGlkZVVwKCdmYXN0Jyk7XG4gICQoJy5tYWluX19vdXRwdXQtY2VsbC0tRmUyTzMnKS5zbGlkZVVwKCdmYXN0Jyk7XG5cbiAgJCgnLmJ1dHRvbi0tY2FsY3VsYXRlLWZlcnJ1bScpLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XG5cbiAgLy9tZWRpYSBzZXR0aW5nc1xuICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPCA2MDApIHtcbiAgICAkKCcubWFpbl9fb3V0cHV0LWFyZWEnKS5zbGlkZVVwKCdmYXN0Jyk7XG4gIH1cbn07XG5cbi8vIHNldHRpbmcgaW5wdXRzIGtleXByZXNzIGV2ZW50XG4kKGRvY3VtZW50KS5rZXlkb3duKGZ1bmN0aW9uKGUpIHtcbiAgaWYgKGUud2hpY2ggPT0gMTMgJiYgaW5wdXRzQXJyLmxlbmd0aCA+PSAyKSB7XG4gICAgJCgnLmJ1dHRvbi0tY2FsY3VsYXRlLWZlcnJ1bScpLmFkZENsYXNzKCdidXR0b24tLWNhbGN1bGF0ZS1mZXJydW0tYWN0aXZlJyk7XG4gIH1cbn0pO1xuXG4kKGRvY3VtZW50KS5rZXl1cChmdW5jdGlvbihlKSB7XG4gIGlmIChlLndoaWNoID09IDEzICYmIGlucHV0c0Fyci5sZW5ndGggPj0gMikge1xuICAgICQoJy5idXR0b24tLWNhbGN1bGF0ZS1mZXJydW0nKS5yZW1vdmVDbGFzcygnYnV0dG9uLS1jYWxjdWxhdGUtZmVycnVtLWFjdGl2ZScpO1xuICAgIGNhbGN1bGF0ZSgpO1xuICB9XG59KTtcblxuLy8gc2V0IGJ1dHRvbnMgZXZlbnRzXG4kKCcuYnV0dG9uLS1jYWxjdWxhdGUtZmVycnVtJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICBjYWxjdWxhdGUoKTtcbn0pO1xuXG4kKCcuYnV0dG9uLS1jbGVhcicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgY2xlYXIoKTtcbn0pO1xuXG4vLyBidXR0b24gZGlzYWJsZSBzZXR0aW5nc1xuJCgnLmJ1dHRvbi0tY2FsY3VsYXRlLWZlcnJ1bScpLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XG5cbnZhciBpbnB1dHNBcnIgPSBbXTtcbiQoJy5tYWluJykub24oJ2lucHV0JywgZnVuY3Rpb24gKGUpIHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBpbnB1dHNBcnIgPSBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoJCgnLm1haW5fX2lucHV0JyksIGl0ZW0gPT4ge1xuICByZXR1cm4gaXRlbS52YWx1ZSAhPT0gJyc7XG59KTtcblxuaWYgKGlucHV0c0Fyci5sZW5ndGggPCAyKSB7XG4gICQoJy5idXR0b24tLWNhbGN1bGF0ZS1mZXJydW0nKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xufSBlbHNlIGlmIChpbnB1dHNBcnIubGVuZ3RoID49IDIpIHtcbiAgJCgnLmJ1dHRvbi0tY2FsY3VsYXRlLWZlcnJ1bScpLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpO1xufVxuXG59KTtcblxuLy8gdGhhdHMgYWxsLCBmdShsKWNrc1xuIl19
